window.onload=function(){$("div.alert").delay(4e3).fadeOut(350),[].slice.call(document.querySelectorAll("[data-bs-toggle='tooltip']")).map((function(e){return new bootstrap.Tooltip(e,{html:!0})})),[].slice.call(document.querySelectorAll("[data-bs-toggle='popover']")).map((function(e){return new bootstrap.Popover(e,{})}))},window.SPMaskBehavior=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},spOptions={onKeyPress:function(e,i,n,t){n.mask(SPMaskBehavior.apply({},arguments),t)}},window.isInvalidText=function(e,i){var n=$(e).val(),t=!1;return null===n||n.length<i?(t=!0,$(e).addClass("is-invalid")):$(e).removeClass("is-invalid"),t},window.isInvalidNumber=function(e,i){var n=$(e).val(),t=!1;try{n=parseFloat(n)}catch(i){return t=!0,$(e).addClass("is-invalid"),t}return n<=i||isNaN(n)?(t=!0,$(e).addClass("is-invalid")):$(e).removeClass("is-invalid"),t},window.isValidInput=function(e,i){return $(e).val()&&$(e).val().length>=i?($(e).removeClass("is-invalid"),!0):($(e).addClass("is-invalid"),!1)},window.isValidCEP=function(e){return $(e).val()&&$(e).val().length==="00000-000".length?($(e).removeClass("is-invalid"),!0):($(e).addClass("is-invalid"),!1)},window.convertHex=function(e,i){var n=e.replace("#","");return 3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"rgba("+parseInt(n.substring(0,2),16)+","+parseInt(n.substring(2,4),16)+","+parseInt(n.substring(4,6),16)+","+i/100+")"},(()=>{function e(){$(".is-invalid").first().focus()}function i(e,i){return $(e).val()&&$(e).val().length>=i?($(e).removeClass("is-invalid"),!0):($(e).addClass("is-invalid"),!1)}function n(e,i){var n=parseInt($(e).val());return void 0===n||isNaN(n)||n<=i?($(e).addClass("is-invalid"),!1):($(e).removeClass("is-invalid"),!0)}$(document).ready((function(){(function(e,i){var n,t=!1;function a(e){if(!e)return!1;s(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")}function s(e){for(var i=0;i<e.length;i++)e[i].classList.remove("autocomplete-active")}function l(i){for(var n=document.getElementsByClassName("autocomplete-items"),t=0;t<n.length;t++)i!=n[t]&&i!=e&&n[t].parentNode.removeChild(n[t])}$("#"+e.id).on("input",(function(a){t=!1;var s,o,d,r=this.value;if(l(),!r)return $("#new_"+e.id).show(),$("#"+e.id).addClass("is-invalid"),!1;$("#new_"+e.id).hide(),n=-1,(s=document.createElement("DIV")).setAttribute("id","autocomplete-list-"+e.id),s.setAttribute("class","autocomplete-items "),s.setAttribute("style","margin-left: 25px; width:"+$("#"+e.id).parent().width()+"px"),this.parentNode.appendChild(s);var u=10,c=0;for(d=0;d<i.length;d++)if(i[d]=i[d].toString(),i[d].toLowerCase().includes(r.toLowerCase())&&c<u){t=!0,c++,o=document.createElement("DIV");var v=i[d],m=new RegExp("("+r+")","gi");o.innerHTML=v.replace(m,"<strong>$1</strong>"),o.innerHTML+="<input type='hidden' value='"+i[d]+"'>",o.addEventListener("click",(function(n){e.value=this.getElementsByTagName("input")[0].value,i.indexOf(e.value)>=0?$("#"+e.id).removeClass("is-invalid"):$("#"+e.id).addClass("is-invalid"),l()})),s.appendChild(o)}i.indexOf(this.value)>=0?$("#"+e.id).removeClass("is-invalid"):(t&&$("#"+e.id).val()?$("#new_"+e.id).hide():$("#new_"+e.id).show(),$("#"+e.id).addClass("is-invalid"))})),e.addEventListener("keydown",(function(i){var t=document.getElementById("autocomplete-list-"+e.id);t&&(t=t.getElementsByTagName("div")),n=void 0===n?-1:n,40==i.keyCode?(n++,a(t)):38==i.keyCode?(n--,a(t)):13==i.keyCode&&(i.preventDefault(),n>-1&&t&&t[n].click())})),document.addEventListener("click",(function(e){l(e.target)}))})(document.getElementById("cc"),cc),$("#new_client").hide(),$("#documento").mask("##################0"),$("#producaoMeta").mask("###0,00",{reverse:!0}),$("#diaLeitura").mask("#0"),$("#ciclo").mask("#0"),$(".money").mask("#.##0,00",{reverse:!0})})),window.submit_form_contract_create=function(){!function(t,a){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:a,type:"GET",dataType:"json",data:t,success:function(t){t.status?function(){var t,a,s,l=!0;i("#cc",3)||(l=!1),i("#nome",3)||(l=!1),i("#apelido",3)||(l=!1),i("#documento",3)||(l=!1),i("#login",3)||(l=!1),i("#senha",3)||(l=!1),i("#producaoMeta",3)||(l=!1),n("#diaLeitura",0)||(l=!1),n("#ciclo",0)||(l=!1),t="#investimento",a=1,s=$(t).val(),((s=parseInt(s.split(".").join("").split(",").join("")))<=a||isNaN(s)?($(t).addClass("is-invalid"),0):($(t).removeClass("is-invalid"),1))||(l=!1),e(),l&&$("#form-create-usina").submit()}():($("#login").addClass("is-invalid"),e())},error:function(e){$("#login").addClass("is-invalid")}})}({login:$("#login").val()},url_ajax_usinas_validate_login_senha)}})();
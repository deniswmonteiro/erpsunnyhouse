(()=>{var e={7757:(e,t,n)=>{e.exports=n(5666)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new E(a||[]);return i._invoke=function(e,t,n){var a=u;return function(o,i){if(a===f)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var r=L(c,n);if(r){if(r===v)continue;return r}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===u)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var s=d(e,t,n);if("normal"===s.type){if(a=n.done?p:m,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=p,n.method="throw",n.arg=s.arg)}}}(e,n,c),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",m="suspendedYield",f="executing",p="completed",v={};function y(){}function b(){}function h(){}var g={};s(g,i,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(T([])));S&&S!==n&&a.call(S,i)&&(g=S);var q=h.prototype=y.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,i,c,r){var s=d(e[o],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,r)}),(function(e){n("throw",e,c,r)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,r)}))}r(s.arg)}var o;this._invoke=function(e,a){function i(){return new t((function(t,o){n(e,a,t,o)}))}return o=o?o.then(i,i):i()}}function L(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=d(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,c=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return c.next=c}}return{next:I}}function I(){return{value:t,done:!0}}return b.prototype=h,s(q,"constructor",h),s(h,"constructor",b),b.displayName=s(h,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,r,"GeneratorFunction")),e.prototype=Object.create(q),e},e.awrap=function(e){return{__await:e}},x(A.prototype),s(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,a,o,i){void 0===i&&(i=Promise);var c=new A(l(t,n,a,o),i);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},x(q),s(q,r,"Generator"),s(q,i,(function(){return this})),s(q,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(a,o){return r.type="throw",r.arg=e,n.next=a,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],r=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var s=a.call(c,"catchLoc"),l=a.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var o=a.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:T(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),window.onload=function(){$("div.alert").delay(4e3).fadeOut(350),[].slice.call(document.querySelectorAll("[data-bs-toggle='tooltip']")).map((function(e){return new bootstrap.Tooltip(e,{html:!0})})),[].slice.call(document.querySelectorAll("[data-bs-toggle='popover']")).map((function(e){return new bootstrap.Popover(e,{})}))},window.SPMaskBehavior=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},spOptions={onKeyPress:function(e,t,n,a){n.mask(SPMaskBehavior.apply({},arguments),a)}},window.isInvalidText=function(e,t){var n=$(e).val(),a=!1;return null===n||n.length<t?(a=!0,$(e).addClass("is-invalid")):$(e).removeClass("is-invalid"),a},window.isInvalidNumber=function(e,t){var n=$(e).val(),a=!1;try{n=parseFloat(n)}catch(t){return a=!0,$(e).addClass("is-invalid"),a}return n<=t||isNaN(n)?(a=!0,$(e).addClass("is-invalid")):$(e).removeClass("is-invalid"),a},window.isValidInput=function(e,t){return $(e).val()&&$(e).val().length>=t?($(e).removeClass("is-invalid"),!0):($(e).addClass("is-invalid"),!1)},window.isValidCEP=function(e){return $(e).val()&&$(e).val().length==="00000-000".length?($(e).removeClass("is-invalid"),!0):($(e).addClass("is-invalid"),!1)},window.convertHex=function(e,t){var n=e.replace("#","");return 3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"rgba("+parseInt(n.substring(0,2),16)+","+parseInt(n.substring(2,4),16)+","+parseInt(n.substring(4,6),16)+","+t/100+")"},(()=>{"use strict";var e=n(7757),t=n.n(e);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e,a){var o;return d(this,n),(o=t.call(this,e,a)).bindControlEvents(),o}return m(n,[{key:"createControl",value:function(){var e=document.createElement("ul");return e.dataset.control="slide",this.slideArray.forEach((function(t,n){e.innerHTML+='<li><a href="#slide'.concat(n+1,'">').concat(n+1,"</a></li>")})),this.wrapper.appendChild(e),e}},{key:"eventControl",value:function(e,t){var n=this;e.addEventListener("click",(function(e){e.preventDefault(),n.changeSlide(t)})),this.wrapper.addEventListener("changeevent",this.activeControlItem)}},{key:"activeControlItem",value:function(){var e=this;this.controlArray.forEach((function(t){return t.classList.remove(e.activeClass)})),void 0!==this.controlArray[this.index]&&this.controlArray[this.index.current].classList.add(this.activeClass)}},{key:"addControl",value:function(e){this.control=document.querySelector(e)||this.createControl(),this.controlArray=s(this.control.children),this.controlArray.forEach(this.eventControl),this.activeControlItem()}},{key:"bindControlEvents",value:function(){this.eventControl=this.eventControl.bind(this),this.activeControlItem=this.activeControlItem.bind(this)}}]),n}(function(){function e(t,n){d(this,e),this.slide=document.querySelector(t),this.wrapper=document.querySelector(n),this.dist={finalPosition:0,startX:0,movement:0},this.activeClass="active",this.disabledClass="bg-secondary",this.opacity50Class="opacity-50",this.changeEvent=new Event("changeevent")}return m(e,[{key:"transition",value:function(e){this.slide.style.transition=e?"transform .3s":""}},{key:"moveSlide",value:function(e){this.dist.movePosition=e,this.slide.style.transform="translate3d(".concat(e,"px, 0, 0)")}},{key:"updatePosition",value:function(e){return this.dist.movement=1.5*(this.dist.startX-e),this.dist.finalPosition-this.dist.movement}},{key:"onStart",value:function(e){var t;"mousedown"===e.type?(e.preventDefault(),this.dist.startX=e.clientX,t="mousemove"):(this.dist.startX=e.changedTouches[0].clientX,t="touchmove"),this.wrapper.addEventListener(t,this.onMove),this.transition(!1)}},{key:"onMove",value:function(e){e.preventDefault();var t="mousemove"===e.type?e.clientX:e.changedTouches[0].clientX,n=this.updatePosition(t);this.moveSlide(n)}},{key:"onEnd",value:function(e){e.preventDefault();var t="mouseup"===e.type?"mousemove":"touchmove";this.wrapper.removeEventListener(t,this.onMove),this.dist.finalPosition=this.dist.movePosition,this.transition(!0),this.changeSlideOnEnd()}},{key:"changeSlideOnEnd",value:function(){this.dist.movement>120&&void 0!==this.index.next?this.activeNextSlide():this.dist.movement<-120&&void 0!==this.index.prev?this.activePrevSlide():this.changeSlide(this.index.current)}},{key:"addSlideEvents",value:function(){this.wrapper.addEventListener("mousedown",this.onStart),this.wrapper.addEventListener("touchstart",this.onStart),this.wrapper.addEventListener("mouseup",this.onEnd),this.wrapper.addEventListener("touchend",this.onEnd)}},{key:"slidePosition",value:function(e){var t=(this.wrapper.offsetWidth-e.offsetWidth)/2;return-(e.offsetLeft-t)}},{key:"slidesConfig",value:function(){var e=this;this.slideArray=s(this.slide.children).map((function(t){return{position:e.slidePosition(t),element:t}}))}},{key:"slidesIndexNav",value:function(e){var t=this.slideArray.length-1;this.index={prev:e?e-1:void 0,current:e,next:e===t?void 0:e+1}}},{key:"changeSlide",value:function(e){var t=this.slideArray[e];void 0!==t&&(this.moveSlide(t.position),this.slidesIndexNav(e),this.dist.finalPosition=t.position,this.changeActiveClass(),this.wrapper.dispatchEvent(this.changeEvent))}},{key:"changeActiveClass",value:function(){var e=this;this.slideArray.forEach((function(t){return t.element.classList.remove(e.activeClass)})),this.slideArray[this.index.current].element.classList.add(this.activeClass)}},{key:"activePrevSlide",value:function(){void 0!==this.index.prev&&this.changeSlide(this.index.prev)}},{key:"activeNextSlide",value:function(){void 0!==this.index.next&&this.changeSlide(this.index.next)}},{key:"onResize",value:function(){var e=this;setTimeout((function(){e.slidesConfig(),e.changeSlide(e.index.current)}),1e3)}},{key:"addResizeEvent",value:function(){window.addEventListener("resize",this.onResize)}},{key:"bindEvents",value:function(){var e,t,n;this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.activePrevSlide=this.activePrevSlide.bind(this),this.activeNextSlide=this.activeNextSlide.bind(this),this.onResize=(e=this.onResize.bind(this),t=200,function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o),n=null}),t)})}},{key:"init",value:function(){return this.bindEvents(),this.transition(!0),this.addSlideEvents(),this.slidesConfig(),this.addResizeEvent(),this.changeSlide(0),this}}]),e}());function p(e,t,n,a,o,i,c){try{var r=e[i](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){p(i,a,o,c,r,"next",e)}function r(e){p(i,a,o,c,r,"throw",e)}c(void 0)}))}}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){return g.apply(this,arguments)}function g(){return(g=v(t().mark((function e(n,a){var o,i,c,r,s,l,d,u,m,f,p,v,b;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=document.querySelectorAll("#modal-generator-image-".concat(a,' li[id^="generator-image"]')),i={type:n},e.next=4,fetch(url_generator_show_image,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)});case 4:return c=e.sent,e.next=7,c.json();case 7:if(r=e.sent,!c.ok){e.next=30;break}e.t0=r.type,e.next="VISTORIA_PREVIA"===e.t0?12:"INSTALACAO"===e.t0?14:"VISTORIA_FINAL"===e.t0?16:"OUTRAS"===e.t0?18:20;break;case 12:return s="previous",e.abrupt("break",20);case 14:return s="installation",e.abrupt("break",20);case 16:return s="final",e.abrupt("break",20);case 18:return s="others",e.abrupt("break",20);case 20:l=document.querySelector("#card-".concat(s,"-").concat(a," .custom-control")),d=document.querySelector("#card-".concat(s,"-").concat(a," .slide")),0===o.length?u=0:(m=y(o).map((function(e){return e.id.split("-")[3]})),u=Math.max.apply(null,m)),"previous"===s&&(f=document.querySelector("#pills-image-tab-previous-".concat(a))).classList.contains("disabled")&&f.classList.remove("disabled"),"installation"===s&&(p=document.querySelector("#pills-image-tab-installation-".concat(a))).classList.contains("disabled")&&p.classList.remove("disabled"),"final"===s&&(v=document.querySelector("#pills-image-tab-final-".concat(a))).classList.contains("disabled")&&v.classList.remove("disabled"),"others"===s&&(b=document.querySelector("#pills-image-tab-others-".concat(a))).classList.contains("disabled")&&b.classList.remove("disabled"),l.insertAdjacentHTML("beforeend",'\n            <li id="generator-thumbnail-'.concat(a,"-").concat(u+1,'">\n                <img src="').concat(assetProjectImage,"/").concat(r.path.substr(13),'" \n                    alt="').concat(r.name,'">\n            </li>\n        ')),d.insertAdjacentHTML("beforeend",'\n            <li id="generator-image-'.concat(a,"-").concat(u+1,'">\n                <img src="').concat(assetProjectImage,"/").concat(r.path.substr(13),'" \n                    alt="').concat(r.name,'">\n                <h6 class="mt-3">').concat(r.name,'</h6>\n                <button type="button" class="btn bg-danger text-white mt-3"\n                    id="btn-delete-generator-image-').concat(a,"-").concat(u+1,'"\n                    value=').concat(r.id,'\n                    onclick="return window.removeGeneratorImage(this)"\n                    onmousedown="return event.stopPropagation()"\n                    onmouseup="return event.stopPropagation()">\n                    <i class="bi bi-trash-fill"></i>\n\n                    <div class="spinner-border spinner-border-sm text-white d-none"\n                        id="btn-delete-generator-image-loading-').concat(a,"-").concat(u+1,'"\n                        role="status">\n                        <span class="visually-hidden">\n                            Loading...\n                        </span>\n                    </div>\n                </button>\n            </li>\n        ')),window.initSlidesFromModal(document.querySelector("#pills-image-tab-".concat(s,"-").concat(a)));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){var n=1==(e=new Date(parseInt(e))).getDate().toString().length?"0"+e.getDate().toString():e.getDate().toString(),a=parseInt(e.getMonth())+1;a=1==a.toString().length?"0"+a.toString():a.toString();var o=e.getFullYear();if("en-us"===t)e="".concat(o,"-").concat(a,"-").concat(n);else e="".concat(n,"/").concat(a,"/").concat(o);return e}function S(e,t){e=new Date(parseInt(e));var n=parseInt(e.getMonth())+1;n=1==n.toString().length?"0"+n.toString():n.toString();var a=e.getFullYear();if("en-us"===t)e="".concat(a,"-").concat(n);else e="".concat(n,"/").concat(a);return e}function q(){null!==document.querySelector(".is-invalid")&&document.querySelector(".is-invalid").focus()}function x(e,t){t?(e.classList.add("is-valid"),e.classList.remove("is-invalid")):(e.classList.add("is-invalid"),e.classList.remove("is-valid"))}function A(e,t){t?(e.classList.add("valid-feedback"),e.classList.remove("invalid-feedback"),e.style.display="block"):(e.classList.add("invalid-feedback"),e.classList.remove("valid-feedback"),e.style.display="block")}function L(e,t){var n=e.id.split("-")[3],a=e.id.split("-")[0];document.querySelector("#".concat(a,"-contract-account-").concat(n)).value=JSON.stringify(t),document.querySelector("#".concat(a,"-contract-account-bill-").concat(n)).submit()}$(document).ready((function(){moment.locale("pt-br"),window.moment.locale("pt-br"),$.fn.dataTable.moment("DD/MM/YYYY"),$.fn.dataTable.moment("DD/MM/YYYY");var e=new Map;e.set(1,"Janeiro"),e.set(2,"Fevereiro"),e.set(3,"Março"),e.set(4,"Abril"),e.set(5,"Maio"),e.set(6,"Junho"),e.set(7,"Julho"),e.set(8,"Agosto"),e.set(9,"Setembro"),e.set(10,"Outubro"),e.set(11,"Novembro"),e.set(12,"Dezembro"),document.querySelectorAll("table[id^='table-effective-date']").forEach((function(e,t){$(e).DataTable({language:{lengthMenu:"Visualizar _MENU_ itens por página",zeroRecords:"Sem Informações",info:"Exibindo página _PAGE_ de _PAGES_",infoEmpty:"Sem Informações",infoFiltered:"",search:"Pesquisar",paginate:{first:"Primera",previous:"Anterior",next:"Próxima",last:"Última"}},lengthMenu:[[25,50,74],[25,50,75,"All"]],columnDefs:[{targets:[0,1,2,3],searchable:!1,visible:!1}],order:[[0,"desc"]],rowGroup:{startRender:function(e,n){var a,o,i,c,r=e.data().pluck(1)[0];return a="ATIVO"!==r?"d-none":"",c="ATIVO"===r?"d-none":"",o=e.data().pluck(2)[0],i=e.data().pluck(3)[0],$("<tr class='table-secondary'/>").append('\n                            <td colspan="6">\n                                <span><strong>Data de Vigência:</strong> '.concat(n,'</span>\n                                <span class="badge bg-warning fw-bold ms-3 ').concat(a,'"\n                                    id="effective-date-status-').concat(t+1,'">ATIVO</span>\n                            </td>\n                        ')).append('<td class="text-center align-item-center">\n                                <a href="'.concat(o,'" target="_blank"\n                                    class="btn bg-primary text-white btn-sm">\n                                    Lista de Rateio\n                                    <i class="bi bi-file-earmark-pdf-fill ms-1"></i>\n                                </a>\n                                <a href="').concat(i,'" \n                                    class="btn bg-danger text-white ms-2 ').concat(c,'">\n                                    <i class="bi bi-trash-fill" style="font-size: 17px"></i>\n                                </a>\n                            </td>\n                        '))},endRender:function(e){var t=e.data().pluck(8).reduce((function(e,t){return e+Number(t.split(" ")[0].replace(",","."))}),0),n=e.data().pluck(8).reduce((function(e,t){return e+Number(t.match(/\(.*\)/)[0].split(" ")[0].substr(1).replace(".","").replace(",","."))}),0);return $("<tr/>").append('\n                            <td colspan="4" class="border-top border-secondary">\n                                <span><strong>Qtde. de Beneficiárias: </strong> '.concat(e.count(),"</span>\n                            </td>\n                        ")).append('\n                            <td colspan="3" class="border-top border-secondary">\n                                <span>\n                                    <strong>Total: </strong>\n                                    '.concat(t," (").concat(n.toLocaleString("pt-br",{maximumFractionDigits:2})," kWh)\n                                </span>\n                            </td>\n                        "))},dataSrc:0}})}));var t=document.querySelector("#generator-pills-tab");window.matchMedia("(max-width: 991px)").matches?t.classList.add("flex-column"):t.classList.remove("flex-column"),imagesPreview.forEach((function(e){document.querySelector("#pills-image-tab-previous-".concat(e.generator_id)).classList.remove("disabled")})),imagesInstallation.forEach((function(e){document.querySelector("#pills-image-tab-installation-".concat(e.generator_id)).classList.remove("disabled")})),imagesFinal.forEach((function(e){document.querySelector("#pills-image-tab-final-".concat(e.generator_id)).classList.remove("disabled")})),imagesOther.forEach((function(e){document.querySelector("#pills-image-tab-others-".concat(e.generator_id)).classList.remove("disabled")})),y(document.querySelectorAll("ul[id^='image-pills-tab']")).forEach((function(e){window.matchMedia("(max-width: 991px)").matches?e.classList.add("flex-column"):e.classList.remove("flex-column")}));var n=document.querySelectorAll("input[id*='apportionment-list-generator-client']"),a=document.querySelectorAll("div[id^='new-apportionment-list'] input[id*='project-beneficiary-client']"),o=document.querySelectorAll("div[id^='new-apportionment-list'] input[id*='project-beneficiary-rate']"),i=Date.now(),c=document.querySelectorAll("input[id^='protocol-date']"),r=document.querySelectorAll("h6[id^='equipment-oversizing-info']");n.forEach((function(e){return window.getBeneficiaryClientCredentials(e,1,"create")})),a.forEach((function(e){return window.autocomplete(e,clients)})),o.forEach((function(e){window.validateBeneficiaryRate(e),window.handleBeneficiaryRate(e)}));var s=document.querySelectorAll("div[id^='protocol-tab']"),l=document.querySelectorAll("div[id^='protocol-pills-tab']"),d=document.querySelectorAll("div[id^='protocol-pills-content']");y(s).forEach((function(e){window.matchMedia("(max-width: 991px)").matches?(e.classList.remove("d-flex","align-items-start"),y(l).forEach((function(e){e.classList.remove("col-5"),e.setAttribute("aria-orientation","horizontal")})),y(d).forEach((function(e){e.classList.remove("col-7","ps-5"),e.classList.add("mt-5")}))):(e.classList.add("d-flex","align-items-start"),y(l).forEach((function(e){e.classList.add("col-5"),e.setAttribute("aria-orientation","vertical")})),y(d).forEach((function(e){e.classList.add("col-7","ps-5"),e.classList.remove("mt-5")})))})),c.forEach((function(e){return e.setAttribute("max",w(i,"en-us"))})),document.querySelectorAll("input[type^='month']").forEach((function(e){var t=S(i-31536e7,"en-us");e.setAttribute("min",t);var n=S(i+2592e6,"en-us");e.setAttribute("max",n)})),r.forEach((function(e){return window.getOversizingInfo(e)}));var u=document.querySelector("#project-observation");y(observations.split("<br>")).forEach((function(e){u.insertAdjacentHTML("beforeend",'\n            <span class="d-block">\n                '.concat(e,"\n            </span>\n        "))})),$(["input[id*='cc-beneficiary-input']","input[id*='other-cc-beneficiary']","input[id^='protocol-number']","input[id^='request-uptoten-solar-quantity']","input[id^='request-abovetenuptoseventyfive-solar-quantity']"]).mask("0#"),$(["input[id^='request-uptoten-solar-modulepower']","input[id^='request-abovetenuptoseventyfive-solar-modulepower']","input[id^='request-uptoten-solar-peakpower']","input[id^='request-abovetenuptoseventyfive-solar-peakpower']","input[id^='request-uptoten-solar-arrangementarea']","input[id^='request-abovetenuptoseventyfive-solar-arrangementarea']","input[id^='request-uptoten-inverter-ratedpower']","input[id^='request-abovetenuptoseventyfive-inverter-ratedpower']","input[id^='request-uptoten-inverter-initialvoltage']","input[id^='request-abovetenuptoseventyfive-inverter-initialvoltage']","input[id^='request-uptoten-inverter-finalvoltage']","input[id^='request-abovetenuptoseventyfive-inverter-finalvoltage']","input[id^='request-uptoten-inverter-ratedcurrent']","input[id^='request-abovetenuptoseventyfive-inverter-ratedcurrent']","input[id^='request-aboveseventyfive-transformer-ratedpower']","input[id^='request-aboveseventyfive-transformer-primaryvoltage']","input[id^='request-aboveseventyfive-transformer-secondaryvoltage']"]).mask("####9V##",{translation:{V:{pattern:/[\,]/},"#":{pattern:/[0-9]/,optional:!0}}}),$(["input[id*='project-beneficiary-rate']","input[id^='request-uptoten-inverter-yield']","input[id^='request-abovetenuptoseventyfive-inverter-yield']","input[id^='request-uptoten-inverter-currentdht']","input[id^='request-abovetenuptoseventyfive-inverter-currentdht']","input[id^='request-aboveseventyfive-transformer-impedance']","input[id^='request-aboveseventyfive-transformer-switchrange']"]).mask("##9V##",{translation:{V:{pattern:/[\,]/},"#":{pattern:/[0-9]/,optional:!0}}})})),window.autocomplete=function(e,t){var n,a=!1;function o(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")}function i(t){for(var n=document.getElementsByClassName("autocomplete-items"),a=0;a<n.length;a++)t!=n[a]&&t!=e&&n[a].parentNode.removeChild(n[a])}$("#".concat(e.id)).on("input",(function(o){var c,r,s,l=this.value;if(a=!1,i(),!l)return $("#new_".concat(e.id)).show(),$("#".concat(e.id)).addClass("is-invalid"),$("#".concat(e.id)).next().text("Preencha o campo."),$("#".concat(e.id)).next().addClass("is-invalid"),!1;$("#new_".concat(e.id)).hide(),$("#".concat(e.id)).next().text(""),$("#".concat(e.id)).next().removeClass("is-invalid"),n=-1,(c=document.createElement("DIV")).setAttribute("id","autocomplete-list-".concat(e.id)),c.setAttribute("class","autocomplete-items "),c.setAttribute("style","margin-top:-4px; margin-left: 45px; width:"+$("#".concat(e.id)).parent().width()+"px"),this.parentNode.appendChild(c);var d=0;for(s=0;s<t.length;s++)if(t[s].toLowerCase().includes(l.toLowerCase())&&d<10){a=!0,d++,r=document.createElement("DIV");var u=t[s],m=new RegExp("(".concat(l,")"),"gi");r.innerHTML=u.replace(m,"<strong>$1</strong>"),r.innerHTML+='<input type="hidden" value="'.concat(t[s],'">'),r.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,$("#".concat(e.id)).removeClass("is-invalid");var n=e.id.split("-")[5],a=e.id.split("-")[0];window.getBeneficiaryClientCredentials(e,n,a),i()})),c.appendChild(r)}t.indexOf(this.value)>=0?$("#".concat(e.id)).removeClass("is-invalid"):(a&&$("#".concat(e.id)).val()?$("#new_".concat(e.id)).hide():$("#new_".concat(e.id)).show(),$("#".concat(e.id)).addClass("is-invalid"))})),e.addEventListener("keydown",(function(t){var a=document.getElementById("autocomplete-list-".concat(e.id));a&&(a=a.getElementsByTagName("div")),n=void 0===n?-1:n,40==t.keyCode?(n++,o(a)):38==t.keyCode?(n--,o(a)):13==t.keyCode&&(t.preventDefault(),n>-1&&a&&a[n].click())})),document.addEventListener("click",(function(e){return i(e.target)}))},window.getContractAccount=function(e,t,n,a){var o=e.id.split("-")[3],i=e.id.split("-")[0],c=document.querySelector("#".concat(i,"-loading-contract-account-").concat(o)),r=document.querySelector("#".concat(i,"-icon-file-download-").concat(o)),s=document.querySelector("#".concat(i,"-contract-account-date-").concat(o)).value,l=s.split("-")[1],d=s.split("-")[0],u=document.querySelector("#".concat(i,"-contract-account-info-").concat(o," td:nth-child(2)")).innerText,m=billContractAccounts.filter((function(e){var t=e.split("_")[0],n=e.split("_")[1];if(u.includes(t)&&s===n)return!0}));if(1===m.length){var f=document.querySelectorAll("#".concat(i,"-contract-account-info-").concat(o," td")),p={data:{0:{}}};p.data[0].fileName="".concat(t,"_").concat(m[0].split("_")[0],"_").concat(l,"_").concat(d,".pdf"),p.data[0].contract_account_number=f[1].innerText,p.data[0].address=f[2].innerText,p.data[0].neighborhood=f[3].innerText,p.data[0].city=f[4].innerText,p.data[0].account_month=s,e.removeAttribute("disabled"),c.classList.add("d-none"),r.classList.remove("d-none"),L(e,p.data)}else{var v="http://equatorial.sunnyhouse.com.br/extractBills?accountContract=".concat(a,"&month=").concat(l,"&year=").concat(d),y={user:t,password:n};e.setAttribute("disabled",!0),c.classList.remove("d-none"),r.classList.add("d-none"),$.ajax({headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),Accept:"application/json","Content-Type":"application/json"},url:v,type:"POST",dataType:"json",data:JSON.stringify(y),success:function(t){var n=document.querySelector("#modal-".concat(i,"-client-documents-").concat(o," .modal-header"));if(e.removeAttribute("disabled"),c.classList.add("d-none"),r.classList.remove("d-none"),0===t.data.length)n.insertAdjacentHTML("afterend",'\n                        <div class="alert alert-danger alert-dismissible show fade mt-0 mb-0 ms-auto me-auto" \n                            style="max-width: 576px;">\n                            <strong>Não há fatura para o mês selecionado.</strong>\n                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                        </div>\n                    '),$("div.alert").delay(5e3).fadeOut(350);else{var a=document.querySelectorAll("#".concat(i,"-contract-account-info-").concat(o," td"));t.data[0].contract_account_number=a[1].innerText,t.data[0].address=a[2].innerText,t.data[0].neighborhood=a[3].innerText,t.data[0].city=a[4].innerText,t.data[0].account_month=s,L(e,t.data)}},error:function(t){var n=document.querySelector("#modal-".concat(i,"-client-documents-").concat(o," .modal-header"));e.removeAttribute("disabled"),c.classList.add("d-none"),r.classList.remove("d-none"),500===t.status?n.insertAdjacentHTML("afterend",'\n                        <div class="alert alert-danger alert-dismissible show fade mt-0 mb-0 ms-auto me-auto" \n                            style="max-width: 576px;">\n                            <strong>Credenciais inválidas.</strong>\n                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                        </div>\n                    '):0===t.status&&n.insertAdjacentHTML("afterend",'\n                        <div class="alert alert-danger alert-dismissible show fade mt-0 mb-0 ms-auto me-auto" \n                            style="max-width: 576px;">\n                            <strong>Serviço indisponível no momento. Tente novamente mais tarde.</strong>\n                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                        </div>\n                    '),window.scrollTo(0,0),$("div.alert").delay(5e3).fadeOut(350)}})}},window.sumRequestTableField=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[2],a=e.id.split("-")[3],o=e.id.split("-")[1],i=y(document.querySelectorAll('input[id^="request-'.concat(o,"-").concat(n,"-").concat(a,"-").concat(t,'"]'))).reduce((function(e,t){return e+Number(t.value.replace(",","."))}),0);document.querySelector("#request-".concat(o,"-").concat(n,"-total-").concat(a,"-").concat(t," .form-group p")).innerText=i.toLocaleString("pt-BR",{maximumFractionDigits:2})},window.enableBtnRequestAddTableItem=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[2],a=e.id.split("-")[1],o=e.closest("[data-request-".concat(a,"-").concat(n,"-item]")),i=document.querySelectorAll("#".concat(o.id," [data-request-").concat(a,"-").concat(n,"-field]")),c=document.querySelector("#btn-add-request-".concat(a,"-").concat(n,"-item-").concat(t));y(i).map((function(e){return!!e.classList.contains("is-valid")})).every((function(e){return!0===e}))?c.removeAttribute("disabled"):c.setAttribute("disabled",!0)},window.removeRequestItem=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[3],a=e.closest("[data-request-".concat(n,"-").concat(t,"-table]")).id;e.parentNode.parentNode.remove();var o=document.querySelectorAll("#".concat(a," [data-request-").concat(n,"-").concat(t,"-item]")),i=document.querySelectorAll("#".concat(a," [data-request-").concat(n,"-").concat(t,"-field]"));document.querySelectorAll("#".concat(a," [data-request-").concat(n,"-").concat(t,"-sum]")).forEach((function(e){return window.sumRequestTableField(e)})),o.length>=1&&i.forEach((function(e){return window.enableBtnRequestAddTableItem(e)}))},window.handleBtnAddNewFile=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[0],a=e.closest('div[id^="documents-'.concat(n,"-new-").concat(t,'"]')),o=document.querySelectorAll("#".concat(a.id," input")),i=document.querySelector("#btn-".concat(n,"-add-new-file-").concat(t)),c=window.validateCreateFile(o[1]);0!==o[0].value.length&&0!==o[1].files.length&&c?i.removeAttribute("disabled"):i.setAttribute("disabled",!0)},window.handleBtnSubmitNewFile=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[0],a=e.closest('div[id^="documents-'.concat(n,"-new-").concat(t,'"]')),o=document.querySelectorAll("#".concat(a.id," input")),i=document.querySelector("#btn-submit-new-file-".concat(t)),c=window.validateCreateFile(o[1]);0!==o[0].value.length&&0!==o[1].files.length&&c?i.removeAttribute("disabled"):i.setAttribute("disabled",!0)},window.enableEditDocumentForm=function(e){var t,n,a=e.id.split("-")[3],o=e.id.split("-")[2];if("new"===o){var i=e.id.split("-")[4];t=document.querySelector("#file-".concat(o,"-").concat(a,"-").concat(i)),n=document.querySelector("#file-management-".concat(o,"-").concat(a,"-").concat(i))}else t=document.querySelector("#file-".concat(o,"-").concat(a)),n=document.querySelector("#file-management-".concat(o,"-").concat(a));t.classList.remove("d-none"),n.classList.add("d-none")},window.cancelDocumentEdit=function(e){var t,n,a=e.id.split("-")[4],o=e.id.split("-")[3];if("new"===o){var i=e.id.split("-")[5];t=document.querySelector("#file-".concat(o,"-").concat(a,"-").concat(i)),n=document.querySelector("#file-management-".concat(o,"-").concat(a,"-").concat(i))}else t=document.querySelector("#file-".concat(o,"-").concat(a)),n=document.querySelector("#file-management-".concat(o,"-").concat(a));t.classList.add("d-none"),n.classList.remove("d-none")},window.removeNewFileRow=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[5],a=e.id.split("-")[0],o=document.querySelector("#form-add-new-file-".concat(t)),i=document.querySelector("#documents-".concat(a,"-new-").concat(t,"-").concat(n)),c=document.querySelectorAll('div[id^="documents-'.concat(a,"-new-").concat(t,'"]')),r=document.querySelector("#btn-".concat(a,"-add-new-file-").concat(t)),s=document.querySelector("#btn-submit-new-file-".concat(t));e.closest("#".concat(i.id)).remove();var l,d,u=document.querySelectorAll('div[id^="documents-'.concat(a,"-new-").concat(t,'"] input')),m=[],f=[];u.forEach((function(e,t){t%2==0?(m.push(e),l=m.every((function(e){return!!window.validateNewFileName(e)}))):(f.push(e),d=f.every((function(e){return!!window.validateCreateFile(e)})))})),"edit"!==a||1!==c.length||l||d||(o.closest(".card").classList.remove("border"),o.closest(".card").classList.remove("ms-3"),o.closest(".card").classList.remove("me-3"),s.setAttribute("disabled",!0)),"edit"===a&&c.length>1&&l&&d&&s.removeAttribute("disabled"),r.removeAttribute("disabled")},window.initSlides=function(e){var t=e.id.split("-")[4],n=document.querySelector("#modal-generator-image-".concat(t)).id,a=new f("#".concat(n," .slide"),"#".concat(n," .slide-wrapper"));setTimeout((function(){a.init(),a.addControl("#".concat(n," .custom-control"))}),200)},window.initSlidesFromModal=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[3],a=document.querySelector("#modal-generator-image-".concat(t)).id,o=document.querySelector("#".concat(a," #card-").concat(n,"-").concat(t)).id,i=new f("#".concat(o," .slide"),"#".concat(o," .slide-wrapper"));setTimeout((function(){i.init(),i.addControl("#".concat(o," .custom-control"))}),200)},window.submitFormAddGeneratorImage=function(){var e=v(t().mark((function e(n){var a,o,i,c,r,s,l,d,u,m,f,p,v,y,b,g,w,S,x;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,o=n.split("-")[3],i=document.querySelector("#modal-generator-image-".concat(o," .modal-header")),c=document.querySelector("#generator-id-".concat(o)),r=document.querySelector("#generator-create-image-name-".concat(o)),s=document.querySelector("#generator-create-image-type-".concat(o)),l=document.querySelector("#generator-create-image-file-".concat(o)),d=document.querySelector("#create-image-name-feedback-".concat(o)),u=document.querySelector("#create-image-type-feedback-".concat(o)),m=document.querySelector("#create-image-file-feedback-".concat(o)),f=new FormData,p=!!window.validateImageName(r),v=!!window.validateSelect(s),y=!!window.validateCreateImage(l),p||(a=!1),v||(a=!1),y||(a=!1),q(),!a){e.next=36;break}return b=document.querySelector("#btn-create-image-".concat(o)),g=document.querySelector("#".concat(b.id," i")),w=document.querySelector("#btn-create-image-loading-".concat(o)),b.setAttribute("disabled",!0),g.classList.add("d-none"),w.classList.remove("d-none"),f.append("generator",c.value),f.append("generator-image-name",r.value),f.append("generator-image-type",s.options[s.selectedIndex].value),f.append("generator-image-file",l.files[0]),e.next=31,fetch(url_generator_store_image,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content")},body:f});case 31:return S=e.sent,e.next=34,S.json();case 34:x=e.sent,S.ok&&(b.removeAttribute("disabled"),g.classList.remove("d-none"),w.classList.add("d-none"),r.classList.remove("is-valid"),s.classList.remove("is-valid"),l.classList.remove("is-valid"),d.style.display="none",u.style.display="none",m.style.display="none",r.value="",s.selectedIndex=0,l.value="",h(x.type,o),x.saved?i.insertAdjacentHTML("afterend",'\n                    <div class="alert alert-success alert-dismissible show fade mt-0 mb-0 ms-auto me-auto"\n                        style="max-width: 576px;">\n                        <strong>'.concat(x.message,'</strong>\n                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                    </div>\n                ')):i.insertAdjacentHTML("afterend",'\n                    <div class="alert alert-danger alert-dismissible show fade mt-0 mb-0 ms-auto me-auto"\n                        style="max-width: 576px;">\n                        <strong>'.concat(x.message,'</strong>\n                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                    </div>\n                ')),$("div.alert").delay(2e3).fadeOut(350));case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.removeGeneratorImage=function(){var e=v(t().mark((function e(n){var a,o,i,c,r,s,l,d,u,m,f,p,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id.split("-")[5],o=n.id.split("-")[4],i=document.querySelector("#modal-generator-image-".concat(o," .modal-header")),c=document.querySelector("#btn-delete-generator-image-".concat(o,"-").concat(a)),r=document.querySelector("#".concat(c.id," i")),s=document.querySelector("#btn-delete-generator-image-loading-".concat(o,"-").concat(a)),c.setAttribute("disabled",!0),r.classList.add("d-none"),s.classList.remove("d-none"),l={image:n.value},e.next=12,fetch(url_generator_destroy_image,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)});case 12:return d=e.sent,e.next=15,d.json();case 15:u=e.sent,d.ok?(m=document.querySelector("#card-".concat(u.type,"-").concat(o," .custom-control")),f=document.querySelector("#card-".concat(u.type,"-").concat(o," .slide")),p=document.querySelector(".".concat(m.className," #generator-thumbnail-").concat(o,"-").concat(a)),v=document.querySelector(".".concat(f.className," #generator-image-").concat(o,"-").concat(a)),p.remove(),v.remove(),c.setAttribute("disabled",!0),r.classList.add("d-none"),s.classList.remove("d-none"),"previous"===u.type&&0===u.qty_images_type_previous&&document.querySelector("#pills-image-tab-previous-".concat(o)).classList.add("disabled"),"installation"===u.type&&0===u.qty_images_type_installation&&document.querySelector("#pills-image-tab-installation-".concat(o)).classList.add("disabled"),"final"===u.type&&0===u.qty_images_type_final&&document.querySelector("#pills-image-tab-final-".concat(o)).classList.add("disabled"),"others"===u.type&&0===u.qty_images_type_others&&document.querySelector("#pills-image-tab-others-".concat(o)).classList.add("disabled"),i.insertAdjacentHTML("afterend",'\n            <div class="alert alert-success alert-dismissible show fade mt-0 mb-0 ms-auto me-auto"\n                style="max-width: 576px;" >\n                <strong>'.concat(u.message,'</strong>\n                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n            </div>\n        ')),window.initSlidesFromModal(document.querySelector("#pills-image-tab-".concat(u.type,"-").concat(o)))):(c.setAttribute("disabled",!0),r.classList.add("d-none"),s.classList.remove("d-none"),i.insertAdjacentHTML("afterend",'\n            <div class="alert alert-danger alert-dismissible show fade mt-0 mb-0 ms-auto me-auto"\n                style="max-width: 576px;">\n                <strong>'.concat(u.message,'</strong>\n                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n            </div>\n        '))),$("div.alert").delay(2e3).fadeOut(350);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.handleGeneratorProjectType=function(e){var t=e.id.split("-")[3];"Geração Compartilhada"===document.querySelector("#generator-project-type-".concat(t)).innerText.trim()&&e.classList.remove("d-none")},window.checkIfAddClientBeneficiary=function(e){var t=e.id.split("-")[6],n=e.id.split("-")[5],a=e.id.split("-")[0],o=document.querySelector("#apportionment-list-generator-client-".concat(n)),i=document.querySelector("#new-apportionment-list-".concat(n)),c=document.querySelector("#".concat(i.id," #").concat(a,"-client-beneficiary-").concat(n,"-").concat(t)),r=document.querySelector("#".concat(c.id," input"));e.checked?(c.classList.remove("d-none"),window.getBeneficiaryClientCredentials(o,t,a)):(c.classList.add("d-none"),r.value="",window.getBeneficiaryClientCredentials(o,t,a))},window.setDifferentBeneficiaryContractAccount=function(e){var t=e.id.split("-")[5],n=e.id.split("-")[4],a=e.id.split("-")[0],o=document.querySelector("#".concat(a,"-other-beneficiary-contract-account-").concat(n,"-").concat(t));e.selectedIndex===e.length-1?o.classList.remove("d-none"):(o.classList.add("d-none"),o.value="")},window.getBeneficiaryClientCredentials=function(){var e=v(t().mark((function e(n,a){var o,i,c,r,s,l,d,u,m,f,p,v,y,b,h=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>2&&void 0!==h[2]?h[2]:null,i=h.length>3&&void 0!==h[3]?h[3]:null,c=h.length>4&&void 0!==h[4]?h[4]:null,r=n.closest("[data-generator]").id,s=r.split("-")[4],l=document.querySelector("#".concat(o,"-beneficiary-contract-account-select-").concat(s,"-").concat(a)),d=document.querySelector("#".concat(o,"-beneficiary-contract-account-input-").concat(s,"-").concat(a)),u=document.querySelector("#".concat(o,"-cc-beneficiary-select-").concat(s,"-").concat(a)),m=document.querySelector("#".concat(o,"-other-beneficiary-contract-account-").concat(s,"-").concat(a)),f={name:n.value.trim()},e.next=12,fetch(url_ajax_get_client_credentials,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(f)});case 12:return p=e.sent,e.next=15,p.json();case 15:if(v=e.sent,m.classList.add("d-none"),p.ok)if(y=v.client.login,b=v.client.password,null!==y&&null!==b){for(l.classList.remove("d-none"),d.classList.add("d-none");u.options.length>0;)u.remove(0);(u.options[u.options.length]=new Option("Selecione a conta contrato","",!0,!0)).setAttribute("disabled",!0),window.getBeneficiaryClientContractAccounts(u,y,b,i,c)}else l.classList.add("d-none"),d.classList.remove("d-none");else l.classList.add("d-none"),d.classList.remove("d-none");case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),window.getBeneficiaryClientContractAccounts=function(){var e=v(t().mark((function e(n,a,o){var i,c,r,s,l,d,u,m,f,p,v,y,b,h,g,w,S,q=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=q.length>3&&void 0!==q[3]?q[3]:null,c=q.length>4&&void 0!==q[4]?q[4]:null,r=n.id.split("-")[5],s=n.id.split("-")[4],l=n.id.split("-")[0],d=document.querySelector("#".concat(l,"-beneficiary-contract-account-select-").concat(s,"-").concat(r)),u=document.querySelector("#".concat(l,"-beneficiary-contract-account-input-").concat(s,"-").concat(r)),m=document.querySelector("#".concat(l,"-cc-beneficiary-select-").concat(s,"-").concat(r)),f="http://equatorial.sunnyhouse.com.br/listAccountContracts",p={user:a,password:o},d.classList.remove("d-none"),u.classList.add("d-none");m.options.length>0;)m.remove(0);return(m.options[m.options.length]=new Option("Carregando...","",!0,!0)).setAttribute("disabled",!0),e.next=17,fetch(f,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p)});case 17:return v=e.sent,e.next=20,v.json();case 20:if(y=e.sent,v.ok){for(y.data.login=a,y.data.password=o,d.classList.remove("d-none"),u.classList.add("d-none");m.options.length>0;)m.remove(0);for((m.options[m.options.length]=new Option("Selecione a conta contrato","",!0,!0)).setAttribute("disabled",!0),b=0;b<y.data.accountContractsCount;b++)h=y.data.accountContracts[b].Endereco,g=y.data.accountContracts[b].Bairro,w=!1,Number(i)===Number(y.data.accountContracts[b].Numero)&&(w=!0),m.options[m.options.length]=new Option("".concat(Number(y.data.accountContracts[b].Numero)," - ").concat(h.toLowerCase().replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()})),", ").concat(g.toLowerCase().replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))),Number(y.data.accountContracts[b].Numero),w,w);m.options[m.options.length]=c?new Option("Outra conta contrato","",!0,!0):new Option("Outra conta contrato","",!1,!1),window.validateSelect(m)}else""!==(S=document.querySelector("#".concat(l,"-project-beneficiary-client-").concat(s,"-").concat(r))).value&&(S.previousElementSibling.classList.add("d-flex","align-items-center"),S.previousElementSibling.insertAdjacentHTML("beforeend",'\n                <span class="badge bg-danger ms-2" style="font-size: 0.75rem !important">\n                    Verificar credenciais inválidas.\n                </span>\n            ')),d.classList.add("d-none"),u.classList.remove("d-none");case 22:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),window.handleBeneficiaryRate=function(e){var t,n=e.id.split("-")[5],a=e.id.split("-")[4],o=e.id.split("-")[0],i=document.querySelector("#generator-project-type-".concat(a)),c=document.querySelector("#apportionment-list-generator-consumption-".concat(a)),r=document.querySelector("#".concat(o,"-rate-monthly-avg-generation-").concat(a,"-").concat(n));if("Autoconsumo Remoto"===i.innerText){var s=c.value.replace(".","").replace(",",".");t=Number(document.querySelector("#apportionment-list-generator-contracted-generation-production-".concat(a)).value.replace(".","").replace(",",".")),r.innerText="".concat(Number((t-s)*e.value.replace(",",".")/100).toLocaleString("pt-BR",{maximumFractionDigits:2})," kWh")}else t=Number(document.querySelector("#apportionment-list-generator-contracted-generation-production-".concat(a)).value.replace(".","").replace(",",".")),r.innerText="".concat(Number(t*e.value.replace(",",".")/100).toLocaleString("pt-BR",{maximumFractionDigits:2})," kWh")},window.enableBtnAddBeneficiary=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[0],a=e.closest("[data-".concat(n,"-beneficiary-item]")).id,o=document.querySelector("#btn-".concat(n,"-add-beneficiary-").concat(t)),i=document.querySelectorAll("#".concat(a," [data-beneficiary]")),c=document.querySelector("#".concat(a,' div[id^="').concat(n,'-beneficiary-contract-account-input"]')),r=document.querySelector("#".concat(a,' input[id^="').concat(n,'-cc-beneficiary-input"]'));c.classList.contains("d-none")?r.removeAttribute("data-beneficiary"):r.setAttribute("data-beneficiary",!0),y(i).map((function(e){return""===e.value})).every((function(e){return!1===e}))?o.removeAttribute("disabled"):o.setAttribute("disabled",!0)},window.removeBeneficiaryItem=function(e){var t=e.id.split("-")[1],n=e.id.split("-")[5];e.parentNode.parentNode.remove();var a=document.querySelector("#new-apportionment-list-".concat(n," #btn-").concat(t,"-add-beneficiary-").concat(n)),o=document.querySelectorAll("#new-apportionment-list-".concat(n," [data-").concat(t,"-beneficiary-item]")),i=document.querySelector("#new-apportionment-list-".concat(n," [data-").concat(t,"-beneficiary-item]:first-of-type")),c=document.querySelector("#".concat(i.id,' input[id*="project-beneficiary-rate"]:first-of-type'));o.length>=1&&a.removeAttribute("disabled"),1===o.length&&(c.value=100),window.validateBeneficiaryRate(c),window.handleBeneficiaryRate(c)},window.enableEditProtocolForm=function(e){var t=e.id.split("-")[3],n=e.id.split("-")[4],a=e.id.split("-")[5],o=document.querySelector("#protocol-form-".concat(t,"-").concat(n,"-").concat(a)),i=document.querySelector("#protocol-management-".concat(t,"-").concat(n,"-").concat(a));o.classList.remove("d-none"),i.classList.add("d-none")},window.cancelEditProtocol=function(e){var t=e.id.split("-")[3],n=e.id.split("-")[4],a=e.id.split("-")[5],o=document.querySelector("#protocol-form-".concat(t,"-").concat(n,"-").concat(a)),i=document.querySelector("#protocol-management-".concat(t,"-").concat(n,"-").concat(a));o.classList.add("d-none"),i.classList.remove("d-none")},window.getOversizingInfo=function(e){var t=e.id.split("-")[3],n=document.querySelectorAll("#pills-".concat(t," [data-equipment-generator]")),a=document.querySelectorAll("#pills-".concat(t," [data-equipment-inverter]")),o=document.querySelector("#equipment-oversizing-percentage-".concat(t)),i=y(equipments).map((function(e){if("generator"===e.category)return e.power})).filter((function(e){return void 0!==e})),c=y(n).map((function(e,t){return Number(e.innerText)*i[t]})).reduce((function(e,t){return e+t}),0),r=y(equipments).map((function(e){if("inverter"===e.category)return e.power})).filter((function(e){return void 0!==e})),s=y(a).map((function(e,t){return Number(e.innerText)*r[t]*1e3})).reduce((function(e,t){return e+t}),0);s>0&&(o.innerHTML="<small>(sobredimensionamento de inversor: ".concat(Math.round(c/s*100),"%)</small>"),o.classList.remove("d-none"))},window.setSameActiveApportinmentListData=function(){var e=v(t().mark((function e(n){var a,o,i,c,r,s,l,d,u,m,f,p,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.id.split("-")[6],o=document.querySelector("#active-generator-apportionment-list-".concat(a)),i=document.querySelector("#active-apportionment-list-".concat(a)),c=document.querySelector("#create-apportionment-list-".concat(a)),!n.checked){e.next=15;break}return r={generator:o.value},e.next=8,fetch(url_fetch_get_active_apportionment_list,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)});case 8:return s=e.sent,e.next=11,s.json();case 11:if(l=e.sent,s.ok){for(c.parentElement.classList.add("d-none"),i.parentElement.classList.remove("d-none"),d="GERACAO_COMPARTILHADA"===l.generator[0].generator_project_type?"d-block":"d-none",u=l.generator[0].contract_client_has_credentials?"d-block":"d-none",m=l.generator[0].contract_client_has_not_credentials?"d-block":"d-none",f=function(e){l.generator[0].beneficiaries[e].beneficiary_client_has_credentials;var t=l.generator[0].beneficiaries[e].beneficiary_contract_account,n=l.generator[0].beneficiaries[e].different_beneficiary_contract_account,o=l.generator[0].beneficiaries[e].beneficiary_rate.toString().replace(".",",");i.insertAdjacentHTML("beforeend",'\n                    <div class="accordion-item"\n                        id="active-beneficiary-'.concat(a,"-").concat(e+1,'"\n                        data-active-beneficiary-item>\n                        <h2 class="accordion-header d-flex"\n                            id="active-beneficiary-heading-').concat(a,"-").concat(e+1,'">\n                            <button type="button" class="accordion-button fw-bold bg-light bg-gradient text-primary rounded-0 rounded-start"\n                                data-bs-toggle="collapse"\n                                data-bs-target="#active-beneficiary-collapse-').concat(a,"-").concat(e+1,'"\n                                aria-expanded="true"\n                                aria-controls="active-beneficiary-collapse-').concat(a,"-").concat(e+1,'">\n                                Beneficiária ').concat(e+1,'\n                            </button>\n                            <button type="button" class="btn btn-danger rounded-0 rounded-end"\n                                id="btn-active-remove-beneficiary-item-').concat(a,"-").concat(e+1,'"\n                                onclick="return window.removeBeneficiaryItem(this)">\n                                <i class="bi bi-trash-fill"></i>\n                            </button>\n                        </h2>\n                        <div id="active-beneficiary-collapse-').concat(a,"-").concat(e+1,'"\n                            class="accordion-collapse collapse show"\n                            aria-labelledby="active-beneficiary-heading-').concat(a,"-").concat(e+1,'"\n                            data-bs-parent="#cc-beneficiaries-').concat(a,"-").concat(e+1,'">\n                            <div class="accordion-body">\n                                <div class="').concat(d,'"\n                                    id="active-beneficiary-client-').concat(a,"-").concat(e+1,'">\n                                    <div class="row mt-3">\n                                        <div class="col-12 mb-4">\n                                            <div class="form-check">\n                                                <input class="form-check-input" type="checkbox"\n                                                    id="active-chk-add-beneficiary-client-').concat(a,"-").concat(e+1,'"\n                                                    name="chk-add-beneficiary-client"\n                                                    onchange="return window.checkIfAddClientBeneficiary(this)">\n                                                <label for="active-chk-add-beneficiary-client-').concat(a,"-").concat(e+1,'" class="form-check-label">\n                                                    Cliente diferente da Geradora?\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        \x3c!-- Beneficiary Client --\x3e\n                                        <div class="col-12 col-md-6 mb-3 d-none" \n                                            id="active-client-beneficiary-').concat(a,"-").concat(e+1,'">\n                                            <div class="form-group">\n                                                <label for="active-project-beneficiary-client-').concat(a,"-").concat(e+1,'" class="form-label">\n                                                    Cliente\n                                                </label>\n                                                <input class="form-control" type="text"\n                                                    id="active-project-beneficiary-client-').concat(a,"-").concat(e+1,'"\n                                                    name="beneficiaries[address-').concat(e+1,'][beneficiary-client]"\n                                                    value="').concat(l.generator[0].beneficiaries[e].beneficiary_client,'">\n                                                <div class="invalid-feedback"\n                                                    id="active-client-beneficiary-').concat(a,"-").concat(e+1,'-feedback-project"></div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="row">\n                                    \x3c!-- Beneficiary Contract Account --\x3e\n                                    <div class="col-12 col-md-6 mb-3">\n                                        <div class="').concat(m,'"   \n                                            id="active-beneficiary-contract-account-input-').concat(a,"-").concat(e+1,'">\n                                            <div class="form-group">\n                                                <label for="active-cc-beneficiary-input-').concat(a,"-").concat(e+1,'"\n                                                    class="form-label">\n                                                    Conta Contrato Beneficiária\n                                                </label>\n                                                <input class="form-control" type="text"\n                                                    id="active-cc-beneficiary-input-').concat(a,"-").concat(e+1,'"\n                                                    name="beneficiaries[address-').concat(e+1,'][beneficiary-contract-account]"\n                                                    onchange="return window.validateInput(this, 1), window.enableBtnAddBeneficiary(this)"\n                                                    onblur="return window.validateInput(this, 1)"\n                                                    onkeyup="return window.validateInput(this, 1)"\n                                                    maxlength="12"\n                                                    data-beneficiary\n                                                    required>\n                                                <div class="invalid-feedback"\n                                                    id="active-cc-beneficiary-input-').concat(a,"-").concat(e+1,'-feedback-project"></div>\n                                            </div>\n                                        </div>\n                                        <div class="').concat(u,'"\n                                            id="active-beneficiary-contract-account-select-').concat(a,"-").concat(e+1,'">\n                                            <div class="form-group">\n                                                <label for="active-cc-beneficiary-select-').concat(a,"-").concat(e+1,'" class="form-label">\n                                                    Conta Contrato Beneficiária\n                                                </label>\n                                                <select class="form-select" \n                                                    aria-label="active-cc-beneficiary-select-').concat(a,"-").concat(e+1,'"\n                                                    id="active-cc-beneficiary-select-').concat(a,"-").concat(e+1,'"\n                                                    name="beneficiaries[address-').concat(e+1,'][beneficiary-contract-account]"\n                                                    onchange="return window.validateSelect(this, 1), window.enableBtnAddBeneficiary(this), window.setDifferentBeneficiaryContractAccount(this)"\n                                                    onblur="return window.validateSelect(this, 1), window.setDifferentBeneficiaryContractAccount(this)"\n                                                    required>\n                                                    <option value="" disabled selected>\n                                                        Selecione a conta contrato\n                                                    </option>\n                                                </select>\n                                                <div class="invalid-feedback"\n                                                    id="active-cc-beneficiary-select-').concat(a,"-").concat(e+1,'-feedback-project"></div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    \x3c!-- Other beneficiary contract account --\x3e\n                                    <div class="col-12 col-md-6 mb-3 d-none"\n                                        id="active-other-beneficiary-contract-account-').concat(a,"-").concat(e+1,'">\n                                        <div class="form-group">\n                                            <label for="active-other-cc-beneficiary-').concat(a,"-").concat(e+1,'"\n                                                class="form-label">\n                                                Outra Conta Contrato Beneficiária\n                                            </label>\n                                            <input class="form-control" type="text"\n                                                id="active-other-cc-beneficiary-').concat(a,"-").concat(e+1,'"\n                                                name="beneficiaries[address-').concat(e+1,'][beneficiary-other-contract-account]"\n                                                onchange="return window.validateInput(this, 1)"\n                                                onblur="return window.validateInput(this, 1)"\n                                                onkeyup="return window.validateInput(this, 1)"\n                                                maxlength="12">\n                                            <div class="invalid-feedback" \n                                                id="active-cc-other-beneficiary-').concat(a,"-").concat(e+1,'-feedback-project">\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="row">\n                                    \x3c!-- Consumption Class --\x3e\n                                    <div class="col-12 col-md-6 mb-3">\n                                        <div class="form-group">\n                                            <label for="active-beneficiary-consumption-class-').concat(a,"-").concat(e+1,'" class="form-label">\n                                                Classe de Consumo\n                                            </label>\n                                            <select class="form-select"\n                                                aria-label="active-beneficiary-consumption-class"\n                                                id="active-beneficiary-consumption-class-').concat(a,"-").concat(e+1,'"\n                                                name="beneficiaries[address-').concat(e+1,'][beneficiary-consumption-class]"\n                                                onchange="return window.validateSelect(this), window.enableBtnAddBeneficiary(this)"\n                                                onblur="return window.validateSelect(this)"\n                                                data-beneficiary\n                                                required>\n                                                <option value="" disabled selected>\n                                                    Escolha a classe de consumo\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex1,'">\n                                                    Residencial\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex2,'">\n                                                    Industrial\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex3,'">\n                                                    Comércio, Serviço e outras atividades\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex4,'">\n                                                    Rural\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex5,'">\n                                                    Poder Público\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex6,'">\n                                                    Iluminação Pública\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex7,'">\n                                                    Serviço Público\n                                                </option>\n                                                <option value="').concat(beneficiaryConsumptionClassIndex8,'">\n                                                    Consumo Próprio\n                                                </option>\n                                            </select>\n                                            <div class="invalid-feedback" \n                                                id="active-beneficiary-consumption-class-').concat(a,"-").concat(e+1,'-feedback-project">\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    \x3c!-- Rate --\x3e\n                                    <div class="col-12 col-md-6 mb-3">\n                                        <div class="form-group">\n                                            <label for="active-project-beneficiary-rate-').concat(a,"-").concat(e+1,'"\n                                                class="form-label">\n                                                Rateio\n                                            </label>\n                                            <div class="input-group">\n                                                <input class="form-control" type="text"\n                                                    id="active-project-beneficiary-rate-').concat(a,"-").concat(e+1,'"\n                                                    name="beneficiaries[address-').concat(e+1,'][beneficiary-rate]"\n                                                    value="').concat(o,'"\n                                                    onchange="return window.handleBeneficiaryRate(this), window.validateInput(this, 1), window.validateBeneficiaryRate(this), window.enableBtnAddBeneficiary(this)"\n                                                    onblur="return window.handleBeneficiaryRate(this), window.validateInput(this, 1), window.validateBeneficiaryRate(this)"\n                                                    onkeyup="return window.handleBeneficiaryRate(this), window.validateInput(this, 1), window.validateBeneficiaryRate(this)"\n                                                    data-beneficiary\n                                                    required>\n                                                <span class="input-group-text rounded-end">\n                                                    %\n                                                </span>\n                                                <span class="input-group-text bg-secondary text-white ms-4 rounded" \n                                                    id="active-rate-monthly-avg-generation-').concat(a,"-").concat(e+1,'" data-rate-monthly>\n                                                </span>\n                                            </div>\n                                            <div class="invalid-feedback" \n                                                id="active-beneficiary-rate-').concat(a,"-").concat(e+1,'-feedback-project">\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="row">\n                                    \x3c!-- Address --\x3e\n                                    <div class="col-12 mb-3">\n                                        <div class="form-group">\n                                            <label for="active-project-beneficiary-address-').concat(a,"-").concat(e+1,'" class="form-label">\n                                                Endereço\n                                            </label>\n                                            <input class="form-control" type="text"\n                                                id="active-project-beneficiary-address-').concat(a,"-").concat(e+1,'"\n                                                name="beneficiaries[address-').concat(e+1,'][beneficiary-address]"\n                                                value="').concat(l.generator[0].beneficiaries[e].beneficiary_address,'"\n                                                onchange="return window.validateInput(this, 2), window.enableBtnAddBeneficiary(this)"\n                                                onblur="return window.validateInput(this, 2)"\n                                                onkeyup="return window.validateInput(this, 2)"\n                                                data-beneficiary\n                                                required>\n                                            <div class="invalid-feedback" \n                                                id="active-beneficiary-address-').concat(a,"-").concat(e+1,'-feedback-project">\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ')),document.querySelector("#btn-active-remove-beneficiary-item-".concat(a,"-1")).classList.add("d-none");var c=document.querySelector("#active-chk-add-beneficiary-client-".concat(a,"-").concat(e+1));c.checked=l.generator[0].beneficiaries[e].different_generator_beneficiary_client;var r=document.querySelector("#active-project-beneficiary-client-".concat(a,"-").concat(e+1));window.autocomplete(r,clients),window.getBeneficiaryClientCredentials(r,e+1,"active",t,n),c.checked?r.closest("#active-client-beneficiary-".concat(a,"-").concat(e+1)).classList.remove("d-none"):r.closest("#active-client-beneficiary-".concat(a,"-").concat(e+1)).classList.add("d-none");var s=document.querySelector("#active-cc-beneficiary-input-".concat(a,"-").concat(e+1)),f=document.querySelector("#active-other-beneficiary-contract-account-".concat(a,"-").concat(e+1)),p=document.querySelector("#active-other-beneficiary-contract-account-".concat(a,"-").concat(e+1," input"));n?setTimeout((function(){f.classList.remove("d-none"),p.value=t}),200):s.value=t;var v=document.querySelector("#active-beneficiary-consumption-class-".concat(a,"-").concat(e+1));switch(l.generator[0].beneficiaries[e].beneficiary_consumption_class){case"RESIDENCIAL":v.selectedIndex=1;break;case"INDUSTRIAL":v.selectedIndex=2;break;case"COMERCIO_SERVICOS_OUTROS":v.selectedIndex=3;break;case"RURAL":v.selectedIndex=4;break;case"PODER_PUBLICO":v.selectedIndex=5;break;case"ILUMINACAO_PUBLICA":v.selectedIndex=6;break;case"SERVICO_PUBLICO":v.selectedIndex=7;break;case"CONSUMO_PROPRIO":v.selectedIndex=8;break;default:v.selectedIndex=0}var y=document.querySelector("#active-project-beneficiary-rate-".concat(a,"-").concat(e+1));window.validateBeneficiaryRate(y),window.handleBeneficiaryRate(y)},p=0;p<l.generator[0].beneficiaries.length;p++)f(p);v=document.querySelectorAll('div[id^="active-beneficiary-'.concat(a,'"]')),document.querySelector("#active-beneficiary-".concat(a,"-").concat(v.length)).insertAdjacentHTML("afterend",'\n                \x3c!-- Button Add Beneficiary --\x3e\n                <div class="row justify-content-end mt-4 mb-4">\n                    <div class="col-12 col-md-4 d-flex justify-content-end">\n                        <div class="form-group"> \n                            <button class="btn btn-warning d-flex justify-content-center align-items-center btn-add-beneficiary"\n                                type="button"\n                                id="btn-active-add-beneficiary-'.concat(a,'"\n                                onclick="return window.addApportionmentListBeneficiary(this)">\n                                <i class="bi bi-plus-circle-fill me-2"></i>\n                                Adicionar Beneficiária\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            '))}e.next=18;break;case 15:y(i.children).forEach((function(e){return e.remove()})),i.parentElement.classList.add("d-none"),c.parentElement.classList.remove("d-none");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.validateBillDate=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[0],a=document.querySelector("#".concat(n,"-btn-account-").concat(t));""!==e.value?a.removeAttribute("disabled"):a.setAttribute("disabled",!0)},window.validateCreateFile=function(e){var t,n=e.id.split("-")[4],a=e.id.split("-")[3],o=e.id.split("-")[0];if("new"===a){var i=e.id.split("-")[5],c=document.querySelector("#".concat(o,"-generator-documents-newfilename-").concat(n,"-").concat(i));t=document.querySelector("#".concat(o,"-documents-").concat(a,"-feedback-").concat(n,"-").concat(i)),window.validateNewFileName(c)}else t=document.querySelector("#".concat(o,"-documents-").concat(a,"-feedback-").concat(n));return 0===e.files.length?(t.innerText="Preencha o campo.",x(e,!1),A(t,!1),!1):void 0!==e.files[0]&&-1==["application/pdf","image/jpeg","image/png"].indexOf(e.files[0].type)?(t.innerText="O arquivo ".concat(e.files[0].name," não é permitido."),x(e,!1),A(t,!1),!1):void 0!==e.files[0]&&e.files[0].size>20971520?(t.innerText="O arquivo ".concat(e.files[0].name," ultrapassou limite de 20 MB."),x(e,!1),A(t,!1),!1):(t.innerText="Formato aceito.",x(e,!0),A(t,!0),!0)},window.validateEditFile=function(e){var t,n,a=e.id.split("-")[4],o=e.id.split("-")[3];if("new"===o){var i=e.id.split("-")[5];t=document.querySelector("#file-".concat(o,"-name-").concat(a,"-").concat(i)),n=document.querySelector("#edit-documents-".concat(o,"-feedback-").concat(a,"-").concat(i))}else t=document.querySelector("#file-".concat(o,"-name-").concat(a)),n=document.querySelector("#edit-documents-".concat(o,"-feedback-").concat(a));return 0===e.files.length?(null!==t&&(t.classList.remove("d-none"),t.classList.add("d-block")),n.classList.remove("d-block"),n.classList.add("d-none"),x(e,!0),!0):(null!==t&&(t.classList.remove("d-block"),t.classList.add("d-none")),n.classList.remove("d-none"),n.classList.add("d-block"),void 0!==e.files[0]&&-1==["application/pdf","image/jpeg","image/png"].indexOf(e.files[0].type)?(n.innerText="O arquivo ".concat(e.files[0].name," não é permitido."),x(e,!1),A(n,!1),!1):void 0!==e.files[0]&&e.files[0].size>20971520?(n.innerText="O arquivo ".concat(e.files[0].name," ultrapassou limite de 20 MB."),x(e,!1),A(n,!1),!1):(n.innerText="Formato aceito.",x(e,!0),A(n,!0),!0))},window.validateCreateImage=function(e){var t=e.id.split("-")[4],n=document.querySelector("#create-image-file-feedback-".concat(t));return 0===e.files.length?(n.innerText="Preencha o campo.",x(e,!1),A(n,!1),!1):void 0!==e.files[0]&&-1==["image/jpeg","image/png"].indexOf(e.files[0].type)?(n.innerText="O arquivo ".concat(e.files[0].name," não é permitido."),x(e,!1),A(n,!1),!1):void 0!==e.files[0]&&e.files[0].size>20971520?(n.innerText="O arquivo ".concat(e.files[0].name," ultrapassou limite de 20 MB."),x(e,!1),A(n,!1),!1):(n.innerText="Formato aceito.",x(e,!0),A(n,!0),!0)},window.validateNewFileName=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[5],a=e.id.split("-")[0],o=document.querySelector("#".concat(a,"-generator-documents-newfilename-").concat(t,"-").concat(n)),i=document.querySelector("#".concat(a,"-documents-newfile-name-feedback-").concat(t,"-").concat(n));return document.querySelector("#".concat(a,"-generator-documents-new-").concat(t,"-").concat(n)).files.length>0?0===o.value.length?(i.innerText="Preencha o campo.",x(o,!1),A(i,!1),!1):(i.innerText="Formato aceito.",x(o,!0),A(i,!0),!0):(i.innerText="",o.classList.remove("is-valid"),i.classList.remove("is-valid"),o.classList.remove("is-invalid"),i.classList.remove("is-invalid"),!0)},window.validateImageName=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[1],a=document.querySelector("#".concat(n,"-image-name-feedback-").concat(t));return 0===e.value.length?(a.innerText="Preencha o campo.",x(e,!1),A(a,!1),!1):(a.innerText="Formato aceito.",x(e,!0),A(a,!0),!0)},window.validateBeneficiaryClient=function(e){var t=e.id.split("-")[4],n=e.id.split("-")[5],a=e.id.split("-")[0],o=document.querySelector("#".concat(a,"-client-beneficiary-").concat(t,"-").concat(n,"-feedback-project"));return clients.find((function(t){return t===e.value}))?(o.innerText="Formato aceito.",x(e,!0),A(o,!0),!0):(o.innerText="Cliente não cadastrado no sistema.",x(e,!1),A(o,!1),!1)},window.validateBeneficiaryRate=function(e){var t=e.id.split("-")[5],n=e.id.split("-")[4],a=e.id.split("-")[0],o=document.querySelector("#".concat(a,"-beneficiary-rate-").concat(n,"-").concat(t,"-feedback-project")),i=document.querySelectorAll("#new-apportionment-list-".concat(n,' input[id*="').concat(a,'-project-beneficiary-rate"]'));return 100!==Array.from(i).reduce((function(e,t){return e+Number(t.value.replace(",","."))}),0)?(i.forEach((function(e){e.parentNode.nextElementSibling.innerHTML="A soma das taxas deve ser igual à <span class='fw-bold'>100%</span>.",x(e,!1),A(e.parentNode.nextElementSibling,!1)})),!1):0===e.value.length?(o.innerText="Preencha o campo.",x(e,!1),A(o,!1),!1):e.value>100?(o.innerText="Digite um valor menor ou igual a 100%",x(e,!1),A(o,!1),!1):0===Number(e.value)?(o.innerText="Digite um valor maior que zero.",x(e,!1),A(o,!1),!1):","===e.value.substr(-1)?(o.innerText="Digite um valor válido.",x(e,!1),A(o,!1),!1):(i.forEach((function(e){e.parentNode.nextElementSibling.innerText="Formato aceito.",x(e,!0),A(e.parentNode.nextElementSibling,!0)})),o.innerText="Formato aceito.",x(e,!0),A(o,!0),!0)},window.validateProtocolDate=function(e){var t=e.id.split("-")[2],n=e.id.split("-")[3],a=e.id.split("-")[4],o=w(Date.now(),"en-us"),i=new Date(o.split("-")[0],o.split("-")[1]-1,o.split("-")[2]),c=new Date(e.value.split("-")[0],e.value.split("-")[1]-1,e.value.split("-")[2]),r=document.querySelector("#protocol-date-feedback-".concat(t,"-").concat(n,"-").concat(a)),s=new Date("01/01/2000".split("/")[2],"01/01/2000".split("/")[1]-1,"01/01/2000".split("/")[0]);return e.value.split("-").length<3||e.value.split("-")[0].length>4?(r.innerText="Preencha o campo.",x(e,!1),!1):e.value.split("-").join("").length<8?(r.innerText="Data inválida.",x(e,!1),!1):c<s||c>i?(r.innerText="Digite uma data entre 01/01/2000 e ".concat(w(Date.now(),"pt-br"),"."),x(e,!1),A(r,!1),!1):(r.innerText="Formato aceito.",x(e,!0),A(r,!0),!0)},window.validateDouble=function(e){var t=e.closest(".form-group").lastElementChild;return 0!==e.value.length||e.hasAttribute("required")?0===e.value.length?(t.innerText="Preencha o campo.",x(e,!1),A(t,!1),!1):0===Number(e.value)?(t.innerText="Digite um valor maior que zero.",x(e,!1),A(t,!1),!1):","===e.value.substr(-1)?(t.innerText="Digite um valor válido.",x(e,!1),A(t,!1),!1):(t.innerText="Formato aceito.",x(e,!0),A(t,!0),!0):(t.innerText="",x(e,!0),A(t,!0),!0)},window.validatePercentage=function(e){var t=e.closest(".form-group").lastElementChild;return 0!==e.value.length||e.hasAttribute("required")?0===e.value.length?(t.innerText="Preencha o campo.",x(e,!1),A(t,!1),!1):e.value.replace(",",".")>100?(t.innerText="Digite um valor menor ou igual a 100%",x(e,!1),A(t,!1),!1):0===Number(e.value)?(t.innerText="Digite um valor maior que zero.",x(e,!1),A(t,!1),!1):","===e.value.substr(-1)?(t.innerText="Digite um valor válido.",x(e,!1),A(t,!1),!1):(t.innerText="Formato aceito.",x(e,!0),A(t,!0),!0):(t.innerText="",x(e,!0),A(t,!0),!0)},window.validateInput=function(e,t){var n=e.closest(".form-group").lastElementChild;return 0!==e.value.length||e.hasAttribute("required")?0===e.value.length?(n.innerText="Preencha o campo.",x(e,!1),A(n,!1),!1):e.value.length<t?(n.innerText="Mínimo de ".concat(t,1===t?" caractere.":" caracteres."),x(e,!1),A(n,!1),!1):(n.innerText="Formato aceito.",x(e,!0),A(n,!0),!0):(n.innerText="",x(e,!0),A(n,!0),!0)},window.validateSelect=function(e){var t=e.closest(".form-group").lastElementChild;return 0===e.selectedIndex?(t.innerText="Escolha uma opção.",x(e,!1),A(t,!1),!1):(t.innerText="Formato aceito.",x(e,!0),A(t,!0),!0)},window.submitFormRequest=function(e){var t,n=e.id.split("-")[4],a=e.id.split("-")[5],o=document.querySelector("#form-request-".concat(n,"-").concat(a)),i=document.querySelectorAll('input[id^="request-'.concat(n,"-solar-modulepower-").concat(a,'"]')),c=document.querySelectorAll('input[id^="request-'.concat(n,"-solar-quantity-").concat(a,'"]')),r=document.querySelectorAll('input[id^="request-'.concat(n,"-solar-peakpower-").concat(a,'"]')),s=document.querySelectorAll('input[id^="request-'.concat(n,"-solar-arrangementarea-").concat(a,'"]')),l=document.querySelectorAll('input[id^="request-'.concat(n,"-solar-modulemanufacturers-").concat(a,'"]')),d=document.querySelectorAll('input[id^="request-'.concat(n,"-solar-modulemodel-").concat(a,'"]')),u=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-manufacturer-").concat(a,'"]')),m=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-model-").concat(a,'"]')),f=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-ratedpower-").concat(a,'"]')),p=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-initialvoltage-").concat(a,'"]')),v=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-finalvoltage-").concat(a,'"]')),b=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-ratedcurrent-").concat(a,'"]')),h=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-powerfactor-").concat(a,'"]')),g=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-yield-").concat(a,'"]')),w=document.querySelectorAll('input[id^="request-'.concat(n,"-inverter-currentdht-").concat(a,'"]')),S=document.querySelectorAll('input[id^="request-'.concat(n,"-transformer-ratedpower-").concat(a,'"]')),x=document.querySelectorAll('input[id^="request-'.concat(n,"-transformer-impedance-").concat(a,'"]')),A=document.querySelectorAll('input[id^="request-'.concat(n,"-transformer-primaryvoltage-").concat(a,'"]')),L=document.querySelectorAll('input[id^="request-'.concat(n,"-transformer-secondaryvoltage-").concat(a,'"]')),C=document.querySelectorAll('input[id^="request-'.concat(n,"-transformer-switchrange-").concat(a,'"]')),k=y(i).every((function(e){return!!window.validateDouble(e)})),E=y(c).every((function(e){return!!window.validateInput(e,1)})),T=y(r).every((function(e){return!!window.validateDouble(e)})),I=y(s).every((function(e){return!!window.validateDouble(e)})),_=y(l).every((function(e){return!!window.validateInput(e,2)})),O=y(d).every((function(e){return!!window.validateInput(e,2)})),j=y(u).every((function(e){return!!window.validateInput(e,2)})),N=y(m).every((function(e){return!!window.validateInput(e,2)})),P=y(f).every((function(e){return!!window.validateDouble(e)})),B=y(p).every((function(e){return!!window.validateDouble(e)})),R=y(v).every((function(e){return!!window.validateDouble(e)})),F=y(b).every((function(e){return!!window.validateDouble(e)})),D=y(h).every((function(e){return!!window.validateInput(e,2)})),M=y(g).every((function(e){return!!window.validatePercentage(e)})),$=y(w).every((function(e){return!!window.validatePercentage(e)})),z=[],H=[],G=[],V=[],U=[];S.forEach((function(e){0!==e.value.length&&z.push(e)})),x.forEach((function(e){0!==e.value.length&&H.push(e)})),A.forEach((function(e){0!==e.value.length&&G.push(e)})),L.forEach((function(e){0!==e.value.length&&V.push(e)})),C.forEach((function(e){0!==e.value.length&&U.push(e)}));var X=z.every((function(e){return!!window.validateDouble(e)})),Y=H.every((function(e){return!!window.validatePercentage(e)})),J=G.every((function(e){return!!window.validateDouble(e)})),K=V.every((function(e){return!!window.validateDouble(e)})),W=U.every((function(e){return!!window.validatePercentage(e)}));t=!!k&&(!!E&&(!!T&&(!!I&&(!!_&&(!!O&&(!!j&&(!!N&&(!!P&&(!!B&&(!!R&&(!!F&&(!!D&&(!!M&&(!!$&&(!!X&&(!!Y&&(!!J&&(!!K&&!!W)))))))))))))))))),q(),t&&o.submit()},window.submitFormCreateGeneratorDocuments=function(e){var t,n=!0,a=e.id.split("-")[4],o=document.querySelector("#form-create-generator-documents-".concat(a)),i=document.querySelector("#create-generator-documents-art-".concat(a)),c=document.querySelector("#create-generator-documents-aneel-".concat(a)),r=document.querySelector("#create-generator-documents-certificates-".concat(a)),s=document.querySelector("#create-generator-documents-memorial-".concat(a)),l=document.querySelector("#create-generator-documents-electrical-".concat(a)),d=document.querySelectorAll('input[id^="create-generator-documents-newfilename-'.concat(a,'"]')),u=document.querySelectorAll('input[id^="create-generator-documents-new-'.concat(a,'"]')),m=window.validateCreateFile(i);c.files.length>0&&(t=window.validateCreateFile(c));var f=window.validateCreateFile(r),p=window.validateCreateFile(s),v=window.validateCreateFile(l),y=Array.from(d).every((function(e){return!!window.validateNewFileName(e)})),b=Array.from(u).every((function(e){return!!window.validateCreateFile(e)}));if(m||(n=!1),c.files.length>0&&!t&&(n=!1),f||(n=!1),p||(n=!1),v||(n=!1),y||(n=!1),b||(n=!1),q(),n){var h=document.querySelectorAll("input[type='file']"),g=document.querySelector("#btn-create-generator-documents-".concat(a)),w=document.querySelector("#btn-create-generator-documents-loading-".concat(a));g.setAttribute("disabled",!0),w.classList.remove("d-none"),h.forEach((function(e){void 0!==e.files[0]&&(e.closest(".form-group").lastElementChild.innerHTML='<span class="fw-bold">Enviando</span> '.concat(e.files[0].name,"..."))})),o.submit()}return n},window.submitFormUpdateGeneratorDocuments=function(e){var t,n,a,o=!0,i=e.id.split("-")[3],c=e.id.split("-")[2];"new"===c?(t=e.id.split("-")[4],n=document.querySelector("#form-document-".concat(c,"-").concat(i,"-").concat(t)),a=document.querySelector("#edit-generator-documents-".concat(c,"-").concat(i,"-").concat(t))):(n=document.querySelector("#form-document-".concat(c,"-").concat(i)),a=document.querySelector("#edit-generator-documents-".concat(c,"-").concat(i)));var r=window.validateEditFile(a);if(0===a.files.length&&(o=!1),r||(o=!1),q(),o){var s,l,d=document.querySelector("#".concat(e.id," i"));"new"===c?(t=e.id.split("-")[4],s=document.querySelector("#edit-documents-".concat(c,"-feedback-").concat(i,"-").concat(t)),l=document.querySelector("#btn-update-".concat(c,"-loading-").concat(i,"-").concat(t))):(s=document.querySelector("#edit-documents-".concat(c,"-feedback-").concat(i)),l=document.querySelector("#btn-update-".concat(c,"-loading-").concat(i))),e.setAttribute("disabled",!0),d.classList.add("d-none"),l.classList.remove("d-none"),void 0!==a.files[0]&&(s.innerHTML='<span class="fw-bold">Enviando</span> '.concat(a.files[0].name,"...")),n.submit()}return o},window.submitFormAddNewFile=function(e){var t=!0,n=e.id.split("-")[4],a=document.querySelector("#form-add-new-file-".concat(n)),o=document.querySelectorAll("#".concat(a.id,' input[id^="edit-generator-documents-new-').concat(n,'"]'));if(Array.from(o).every((function(e){return!!window.validateCreateFile(e)}))||(t=!1),q(),t){var i=document.querySelector("#btn-submit-new-file-".concat(n)),c=document.querySelector("#btn-submit-new-file-loading-".concat(n));i.setAttribute("disabled",!0),c.classList.remove("d-none"),o.forEach((function(e){void 0!==e.files[0]&&(e.closest(".form-group").lastElementChild.innerHTML='<span class="fw-bold">Enviando</span> '.concat(e.files[0].name,"..."))})),a.submit()}return t},window.submitFormNewApportionmentList=function(e){var t,n,a,o=!0,i=e.id.split("-")[4],c=document.querySelector("#generator-project-type-".concat(i)),r=document.querySelector("#chk-same-generator-active-apportionment-list-".concat(i)).checked?"active":"create",s=document.querySelector("#form-".concat(r,"-apportionment-list-").concat(i)),l=document.querySelectorAll("#".concat(s.id,' input[id^="').concat(r,'-chk-add-beneficiary-client"]'));if("Geração Compartilhada"===c.innerText.trim()){var d,u=[];l.forEach((function(e){e.checked&&(d=document.querySelector("#".concat(r,"-project-beneficiary-client-").concat(i,"-").concat(e.id.split("-")[6])),u.push(d))}));var m=u.every((function(e){return!!window.validateBeneficiaryClient(e)}));q(),m||(o=!1)}if("Autoconsumo Remoto"===c.innerText.trim()||"Geração Compartilhada"===c.innerText.trim()){var f,p,v;document.querySelectorAll("#".concat(s.id,' div[id^="').concat(r,'-beneficiary-contract-account-input"]')).forEach((function(e){e.classList.contains("d-none")||(t=document.querySelectorAll("#".concat(e.id,' input[id^="').concat(r,'-cc-beneficiary-input"]')),f=y(t).every((function(e){return!!window.validateInput(e)})),q(),f||(o=!1))})),document.querySelectorAll("#".concat(s.id,' div[id^="').concat(r,'-beneficiary-contract-account-select"]')).forEach((function(e){e.classList.contains("d-none")||(n=document.querySelectorAll("#".concat(e.id,' select[id^="').concat(r,'-cc-beneficiary-select"]')),p=y(n).every((function(e){return!!window.validateSelect(e)})),q(),p||(o=!1))})),document.querySelectorAll("#".concat(s.id,' div[id^="').concat(r,'-other-beneficiary-contract-account"]')).forEach((function(e){e.classList.contains("d-none")||(a=document.querySelectorAll("#".concat(e.id,' input[id^="').concat(r,'-other-cc-beneficiary"]')),v=y(a).every((function(e){return!!window.validateInput(e)})),q(),v||(o=!1))}));var b=document.querySelectorAll("#".concat(s.id,' select[id^="').concat(r,'-beneficiary-consumption-class"]')),h=document.querySelectorAll("#".concat(s.id,' input[id^="').concat(r,'-beneficiary-rate"]')),g=document.querySelectorAll("#".concat(s.id,' input[id^="').concat(r,'-beneficiary-address"]')),w=y(b).every((function(e){return!!window.validateSelect(e)})),S=y(h).every((function(e){return!!window.validateBeneficiaryRate(e)})),x=y(g).every((function(e){return!!window.validateInput(e)}));q(),w&&S&&x||(o=!1)}o&&s.submit()},window.submitFormProtocol=function(e){var t,n,a=e.id.split("-")[2],o=e.id.split("-")[3],i=e.id.split("-")[3],c=document.querySelector("#protocol-number-".concat(a,"-").concat(o,"-").concat(i)),r=document.querySelector("#protocol-date-".concat(a,"-").concat(o,"-").concat(i));return"homologated"!==a&&(t=window.validateInput(c)),n=window.validateProtocolDate(r),!("homologated"!==a&&!t)&&!!n}})()})();
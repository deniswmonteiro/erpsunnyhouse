(()=>{var t={7757:(t,e,n)=>{t.exports=n(5666)},5666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),c=new A(r||[]);return a._invoke=function(t,e,n){var r=d;return function(o,a){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw a;return P()}for(n.method=o,n.arg=a;;){var c=n.delegate;if(c){var i=O(c,n);if(i){if(i===h)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=u(t,e,n);if("normal"===s.type){if(r=n.done?m:p,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=m,n.method="throw",n.arg=s.arg)}}}(t,n,c),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};s(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(_([])));x&&x!==n&&r.call(x,a)&&(b=x);var L=y.prototype=v.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,a,c,i){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(d).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,i)}))}i(s.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return c.next=c}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=y,s(L,"constructor",y),s(y,"constructor",g),g.displayName=s(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,i,"GeneratorFunction")),t.prototype=Object.create(L),t},t.awrap=function(t){return{__await:t}},S(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var c=new T(l(e,n,r,o),a);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},S(L),s(L,i,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return i.type="throw",i.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],i=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var s=r.call(c,"catchLoc"),l=r.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=t,c.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),window.onload=function(){$("div.alert").delay(4e3).fadeOut(350),[].slice.call(document.querySelectorAll("[data-bs-toggle='tooltip']")).map((function(t){return new bootstrap.Tooltip(t,{html:!0})})),[].slice.call(document.querySelectorAll("[data-bs-toggle='popover']")).map((function(t){return new bootstrap.Popover(t,{})}))},window.SPMaskBehavior=function(t){return 11===t.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},spOptions={onKeyPress:function(t,e,n,r){n.mask(SPMaskBehavior.apply({},arguments),r)}},window.isInvalidText=function(t,e){var n=$(t).val(),r=!1;return null===n||n.length<e?(r=!0,$(t).addClass("is-invalid")):$(t).removeClass("is-invalid"),r},window.isInvalidNumber=function(t,e){var n=$(t).val(),r=!1;try{n=parseFloat(n)}catch(e){return r=!0,$(t).addClass("is-invalid"),r}return n<=e||isNaN(n)?(r=!0,$(t).addClass("is-invalid")):$(t).removeClass("is-invalid"),r},window.isValidInput=function(t,e){return $(t).val()&&$(t).val().length>=e?($(t).removeClass("is-invalid"),!0):($(t).addClass("is-invalid"),!1)},window.isValidCEP=function(t){return $(t).val()&&$(t).val().length==="00000-000".length?($(t).removeClass("is-invalid"),!0):($(t).addClass("is-invalid"),!1)},window.convertHex=function(t,e){var n=t.replace("#","");return 3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"rgba("+parseInt(n.substring(0,2),16)+","+parseInt(n.substring(2,4),16)+","+parseInt(n.substring(4,6),16)+","+e/100+")"},(()=>{"use strict";var t=n(7757),e=n.n(t);function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e,n,r,o,a,c){try{var i=t[a](c),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function i(t){a(c,r,o,i,s,"next",t)}function s(t){a(c,r,o,i,s,"throw",t)}i(void 0)}))}}function i(t,e){var n=1==(t=new Date(parseInt(t))).getDate().toString().length?"0"+t.getDate().toString():t.getDate().toString(),r=parseInt(t.getMonth())+1;r=1==r.toString().length?"0"+r.toString():r.toString();var o=t.getFullYear();if("en-us"===e)t="".concat(o,"-").concat(r,"-").concat(n);else t="".concat(n,"/").concat(r,"/").concat(o);return t}function s(t,e){e?(t.classList.add("is-valid"),t.classList.remove("is-invalid")):(t.classList.add("is-invalid"),t.classList.remove("is-valid"))}function l(t,e){e?(t.classList.add("valid-feedback"),t.classList.remove("invalid-feedback"),t.style.display="block"):(t.classList.add("invalid-feedback"),t.classList.remove("valid-feedback"),t.style.display="block")}$(document).ready((function(){moment.locale("pt-br"),window.moment.locale("pt-br"),$.fn.dataTable.moment("DD/MM/YYYY"),$.fn.dataTable.moment("DD/MM/YYYY");var t=new Map;t.set(1,"Janeiro"),t.set(2,"Fevereiro"),t.set(3,"Março"),t.set(4,"Abril"),t.set(5,"Maio"),t.set(6,"Junho"),t.set(7,"Julho"),t.set(8,"Agosto"),t.set(9,"Setembro"),t.set(10,"Outubro"),t.set(11,"Novembro"),t.set(12,"Dezembro"),$("#table_id").DataTable({language:{lengthMenu:"Visualizar _MENU_ itens por página",zeroRecords:"Sem Informações",info:"Exibindo página _PAGE_ de _PAGES_",infoEmpty:"Sem Informações",infoFiltered:"",search:"Pesquisar",paginate:{first:"Primera",previous:"Anterior",next:"Próxima",last:"Última"}},lengthMenu:[[25,50,74],[25,50,75,"All"]],columnDefs:[{targets:[1,3,5],searchable:!0,visible:!1}],rowGroup:{endRender:function(t,e){var n=t.data().pluck(7).reduce((function(t,e){var n=e.split(" ")[0],r=e.split(" ")[1];return t+Number("kWp"===r?1e3*n.replace(",","."):n.replace(",","."))}),0);return"Total em ".concat(e,':\n                    <span class="text-primary">\n                        ').concat((n/1e3).toString().replace(".",",")," kWp\n                    </span>")},dataSrc:function(e){var n=e[1].split("/"),r=t.get(parseInt(n[1])),o=n[2];return"<strong>".concat(r," de ").concat(o,"</strong>")}}});var e=Date.now();document.querySelectorAll("input[id^='protocol-date']").forEach((function(t){return t.setAttribute("max",i(e,"en-us"))})),$("input[id^='protocol-number']").mask("0#")})),window.enableEditProtocolForm=function(t){var e=t.id.split("-")[3],n=t.id.split("-")[4],r=t.id.split("-")[5],o=document.querySelector("#protocol-form-".concat(e,"-").concat(n,"-").concat(r)),a=document.querySelector("#protocol-management-".concat(e,"-").concat(n,"-").concat(r));o.classList.remove("d-none"),a.classList.add("d-none")},window.cancelEditProtocol=function(t){var e=t.id.split("-")[3],n=t.id.split("-")[4],r=t.id.split("-")[5],o=document.querySelector("#protocol-form-".concat(e,"-").concat(n,"-").concat(r)),a=document.querySelector("#protocol-management-".concat(e,"-").concat(n,"-").concat(r));o.classList.add("d-none"),a.classList.remove("d-none")},window.formSaveProtocol=function(){var t=c(e().mark((function t(n){var r,o,a,c,i,s,l,u,d,p,f,m,h,v,g,y,b,w,x,L,S,T,O,E,k,A;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!0,o=n.split("-")[2],a=n.split("-")[3],c=n.split("-")[4],i=document.querySelector("#modal-edit-protocol-".concat(a,"-").concat(c," .modal-body")),s=document.querySelector("#protocol-form-".concat(o,"-").concat(a,"-").concat(c)),l=document.querySelector("#protocol-management-".concat(o,"-").concat(a,"-").concat(c)),u=document.querySelector("#form-protocol-".concat(o,"-").concat(a,"-").concat(c)),d=document.querySelector("#protocol-number-".concat(o,"-").concat(a,"-").concat(c)),p=document.querySelector("#protocol-date-".concat(o,"-").concat(a,"-").concat(c)),f=document.querySelector("#protocol-management-number-".concat(o,"-").concat(a,"-").concat(c)),m=document.querySelector("#protocol-management-date-".concat(o,"-").concat(a,"-").concat(c)),h=document.querySelector("#protocol-management-deadline-".concat(o,"-").concat(a,"-").concat(c)),y=document.querySelector("#protocol-link-".concat(a,"-").concat(c," span")),b=y.className.split(/\s+/)[2],w=document.querySelector("#".concat(y.id," span")),"homologated"!==o&&(v=window.validateInput(d)),g=window.validateProtocolDate(p),"homologated"===o||v||(r=!1),g||(r=!1),!r){t.next=71;break}return x=document.querySelector("#".concat(u.id," #generator-id-").concat(o,"-").concat(a,"-").concat(c)),L=document.querySelector("#".concat(u.id," #protocol-type-").concat(o,"-").concat(a,"-").concat(c)),S=document.querySelector("#btn-save-protocol-".concat(o,"-").concat(a,"-").concat(c)),T=document.querySelector("#btn-save-protocol-".concat(o,"-").concat(a,"-").concat(c," i")),O=document.querySelector("#btn-save-protocol-loading-".concat(o,"-").concat(a,"-").concat(c)),S.setAttribute("disabled",!0),T.classList.add("d-none"),O.classList.remove("d-none"),E="homologated"===o?{generator:x.value,type:L.value,"protocol-date":p.value,"badge-bg-color":b}:{generator:x.value,type:L.value,"protocol-number":d.value,"protocol-date":p.value,"badge-bg-color":b},t.next=32,fetch(url_generator_save_protocol,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(E)});case 32:return k=t.sent,t.next=35,k.json();case 35:if(A=t.sent,!k.ok){t.next=71;break}y.classList.remove(A.badge),m.innerText="".concat(A.date.split("-")[2],"/").concat(A.date.split("-")[1],"/").concat(A.date.split("-")[0]),t.t0=A.status,t.next="SUBMETIDO"===t.t0?42:"PROTOCOLADO"===t.t0?46:"PARECER_EMITIDO"===t.t0?50:"VISTORIA_PROVISORIA"===t.t0?53:"VISTORIA"===t.t0?57:"HOMOLOGADO"===t.t0?61:63;break;case 42:return f.innerText=A.number,h.innerText=A.deadline,A.pending?(y.classList.add("bg-danger"),h.classList.add("text-danger","fw-bold")):(y.classList.add("bg-brown"),h.classList.remove("text-danger","fw-bold")),t.abrupt("break",63);case 46:return f.innerText=A.number,h.innerText=A.deadline,A.pending?(y.classList.add("bg-danger"),h.classList.add("text-danger","fw-bold")):(y.classList.add("bg-info"),h.classList.remove("text-danger","fw-bold")),t.abrupt("break",63);case 50:return f.innerText=A.number,y.classList.add("bg-indigo"),t.abrupt("break",63);case 53:return f.innerText=A.number,h.innerText=A.deadline,A.pending?(y.classList.add("bg-danger"),h.classList.add("text-danger","fw-bold")):(y.classList.add("bg-warning"),h.classList.remove("text-danger","fw-bold")),t.abrupt("break",63);case 57:return f.innerText=A.number,h.innerText=A.deadline,A.pending?(y.classList.add("bg-danger"),h.classList.add("text-danger","fw-bold")):(y.classList.add("bg-primary"),h.classList.remove("text-danger","fw-bold")),t.abrupt("break",63);case 61:return y.classList.add("bg-teal"),t.abrupt("break",63);case 63:s.classList.add("d-none"),l.classList.remove("d-none"),S.removeAttribute("disabled"),T.classList.remove("d-none"),O.classList.add("d-none"),w.innerText=A.status.replace("_"," "),A.saved?i.insertAdjacentHTML("afterbegin",'\n                    <div class="alert alert-success alert-dismissible show fade mt-0 mb-0 ms-auto me-auto"\n                        style="max-width: 576px;" >\n                        <strong>'.concat(A.message,'</strong>\n                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                    </div>\n                ')):i.insertAdjacentHTML("afterbegin",'\n                    <div class="alert alert-danger alert-dismissible show fade mt-0 mb-0 ms-auto me-auto"\n                        style="max-width: 576px;">\n                        <strong>'.concat(A.message,'</strong>\n                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                    </div>\n                ')),$("div.alert").delay(2e3).fadeOut(350);case 71:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.validateInput=function(t,e){var n=t.closest(".form-group").lastElementChild;return 0===t.value.length?(n.innerText="Preencha o campo.",s(t,!1),l(n,!1),!1):t.value.length<e?(n.innerText="Mínimo de ".concat(e,1===e?" caractere.":" caracteres."),s(t,!1),l(n,!1),!1):(n.innerText="Formato aceito.",s(t,!0),l(n,!0),!0)},window.validateProtocolDate=function(t){var e=t.id.split("-")[2],n=t.id.split("-")[3],r=t.id.split("-")[4],o=i(Date.now(),"en-us"),a=new Date(o.split("-")[0],o.split("-")[1]-1,o.split("-")[2]),c=new Date(t.value.split("-")[0],t.value.split("-")[1]-1,t.value.split("-")[2]),u=document.querySelector("#protocol-date-feedback-".concat(e,"-").concat(n,"-").concat(r)),d=new Date("01/01/2000".split("/")[2],"01/01/2000".split("/")[1]-1,"01/01/2000".split("/")[0]);return t.value.split("-").length<3||t.value.split("-")[0].length>4?(u.innerText="Preencha o campo.",s(t,!1),!1):t.value.split("-").join("").length<8?(u.innerText="Data inválida.",s(t,!1),!1):c<d||c>a?(u.innerText="Digite uma data entre 01/01/2000 e ".concat(i(Date.now(),"pt-br"),"."),s(t,!1),l(u,!1),!1):(u.innerText="Formato aceito.",s(t,!0),l(u,!0),!0)},window.formSubmitMigrateDocument=function(){var t=c(e().mark((function t(n){var o,a,c,i,s,l,u,d,p,f,m,h;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.split("-")[5],a=n.split("-")[4],c=n.split("-")[3],i=document.querySelectorAll("#modal-migrate-documents-".concat(a," li")),s=document.querySelector("#generator-id-".concat(a,"-").concat(o)),l=document.querySelector("#generator-document-".concat(c,"-").concat(a,"-").concat(o)),u=document.querySelector("#btn-migrate-document-".concat(c,"-").concat(a,"-").concat(o)),d=document.querySelector("#btn-migrate-document-".concat(c,"-loading-").concat(a,"-").concat(o)),p=document.querySelector("#btn-migrate-documents-".concat(a)),u.firstElementChild.classList.add("d-none"),d.classList.remove("d-none"),f={generator:s.value,type:l.value},t.next=14,fetch(url_fetch_migrate_generator_document,{method:"POST",headers:{"X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(f)});case 14:return m=t.sent,t.next=17,m.json();case 17:h=t.sent,m.ok&&h.created&&(d.classList.add("d-none"),u.setAttribute("disabled",!0),u.insertAdjacentHTML("afterbegin","<i class='bi bi-check-circle-fill'></i>"),u.closest("li").setAttribute("data-created",!0),r(i).every((function(t){return!!t.hasAttribute("data-created")}))&&p.classList.add("disabled"));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})()})();